<template><div><img src="@source/docs/Tech/2024-04-23-AsimpleimplementationofaLoaderinReactusingContextAPICustomHookandTypeScript/img/AsimpleimplementationofaLoaderinReactusingContextAPICustomHookandTypeScript_0.png" />
<h1 id="á„€á…¢á„‹á…­-ğŸ‘€" tabindex="-1"><a class="header-anchor" href="#á„€á…¢á„‹á…­-ğŸ‘€" aria-hidden="true">#</a> ê°œìš” ğŸ‘€</h1>
<p>ë§Œì•½ ë‹¹ì‹ ì´ ì „ë¬¸ê°€ì´ê³  êµ¬í˜„ì—ë§Œ ê´€ì‹¬ì´ ìˆë‹¤ë©´, ì´ Github ì €ì¥ì†Œì—ì„œ ì½”ë“œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì¼ë‹¨ 'ê°œë°œì/'ë¡œì„œì˜ ìì‹ ì„ ìŠìœ¼ì„¸ìš”. ëŒ€ì‹  ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¢…ë‹¨ ì‚¬ìš©ì ğŸ‘©â€ğŸ’» ì´ë¼ ê°€ì •í•˜ê³  UIì—ì„œ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ì ì‹œ ë™ì•ˆ ì•„ë¬´ ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šê³  ê°‘ìê¸° í™”ë©´ì— ìƒˆë¡œìš´ ìš”ì†Œê°€ íŒì—…ëë‹¤ê³  ìƒê°í•´ë³´ì„¸ìš”.</p>
<!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<p>ëª‡ ì´ˆ ë™ì•ˆ ë¨¸ë¦¬ë¥¼ ì¡°ê¸ˆ êµ´ë ¤ë³¼ í•„ìš”ê°€ ìˆì„ ê±°ì—ìš” ğŸ§  ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ì•Œì•„ë‚´ê¸° ìœ„í•´ì„œ! ì•„ë˜ ì´ë¯¸ì§€ë¥¼ ë³´ì„¸ìš”ğŸ‘‡</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*HClkzlx3lGdVQVScOnnaEg.gif" alt="Image 1"></p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*JRq7Ha_MWfg7Red_fBnwzw.gif" alt="Image 2"></p>
<h2 id="á„‹á…§á„€á…µá„‹á…¦á„‚á…³á†«-á„‰á…¢á„…á…©á„‹á…®á†«-á„€á…¥á†ºá„‹á…µ-á„‹á…¥á†¹á„‚á…¦á„‹á…­-ğŸ¤—" tabindex="-1"><a class="header-anchor" href="#á„‹á…§á„€á…µá„‹á…¦á„‚á…³á†«-á„‰á…¢á„…á…©á„‹á…®á†«-á„€á…¥á†ºá„‹á…µ-á„‹á…¥á†¹á„‚á…¦á„‹á…­-ğŸ¤—" aria-hidden="true">#</a> ì—¬ê¸°ì—ëŠ” ìƒˆë¡œìš´ ê²ƒì´ ì—†ë„¤ìš” ğŸ¤—</h2>
<!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<h1 id="reactá„‹á…¦á„‰á…¥á„‚á…³á†«-á„á…¥á†·á„‘á…©á„‚á…¥á†«á„á…³á„‹á…¦á„‰á…¥-á„‹á…§á„…á…¥-á„€á…¢á„‹á…´-á„ƒá…¢á„€á…µ-á„‰á…¡á†¼á„á…¢-uiá„…á…³á†¯-á„€á…®á„’á…§á†«á„’á…¡á†¯-á„„á…¢-á„‹á…µá†¯á„‡á…¡á†«á„Œá…¥á†¨á„‹á…³á„…á…©-á„‹á…µğŸ‘‡-usestate-á„‹á…´-á„’á…©á†«á„…á…¡á†«á„‰á…³á„…á…¥á„‹á…®á†«-á„†á…®á†¼á„á…µá„€á…¡-á„‹á…µá†»á„‰á…³á†¸á„‚á…µá„ƒá…¡" tabindex="-1"><a class="header-anchor" href="#reactá„‹á…¦á„‰á…¥á„‚á…³á†«-á„á…¥á†·á„‘á…©á„‚á…¥á†«á„á…³á„‹á…¦á„‰á…¥-á„‹á…§á„…á…¥-á„€á…¢á„‹á…´-á„ƒá…¢á„€á…µ-á„‰á…¡á†¼á„á…¢-uiá„…á…³á†¯-á„€á…®á„’á…§á†«á„’á…¡á†¯-á„„á…¢-á„‹á…µá†¯á„‡á…¡á†«á„Œá…¥á†¨á„‹á…³á„…á…©-á„‹á…µğŸ‘‡-usestate-á„‹á…´-á„’á…©á†«á„…á…¡á†«á„‰á…³á„…á…¥á„‹á…®á†«-á„†á…®á†¼á„á…µá„€á…¡-á„‹á…µá†»á„‰á…³á†¸á„‚á…µá„ƒá…¡" aria-hidden="true">#</a> Reactì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ëŒ€ê¸° ìƒíƒœ UIë¥¼ êµ¬í˜„í•  ë•Œ, ì¼ë°˜ì ìœ¼ë¡œ ì´ğŸ‘‡ (useState)ì˜ í˜¼ë€ìŠ¤ëŸ¬ìš´ ë­‰ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤</h1>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">SomeComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isCarsLoading<span class="token punctuation">,</span> setIsCarsLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isEngineLoading<span class="token punctuation">,</span> setIsEngineLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">fetchCars</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">setIsCarsLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token operator">...</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      <span class="token function">setIsCarsLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>      
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">fetchEngineByCarModel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">carModel</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">setIsEngineLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token operator">...</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      <span class="token function">setIsEngineLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>      
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="á„á…¥á†·á„‘á…©á„‚á…¥á†«á„á…³-á„á…³á„…á…µá„‹á…´-á„‹á…¥á„ƒá…µá„‹á…¦á„‰á…¥á„‚á…¡-loaderá„…á…³á†¯-á„‰á…µá„Œá…¡á†¨-á„Œá…®á†¼á„Œá…µá„’á…¡á„‚á…³á†«-á„€á…µá„‚á…³á†¼á„‹á…µ-á„‹á…µá†»á„‹á…³á„†á…§á†«-á„†á…¥á†ºá„Œá…µá†¯-á„€á…¥á†º-á„€á…¡á‡€á„‹á…¡á„‹á…­-âœ¨-á„€á…³á„…á…µá„€á…©-á„‹á…µá†¯á„‡á…¡á†«á„Œá…¥á†¨á„‹á…µá†«-á„…á…©á„ƒá…¥á„€á…¡-á„‘á…­á„‰á…µá„ƒá…¬á†¸á„‚á…µá„ƒá…¡" tabindex="-1"><a class="header-anchor" href="#á„á…¥á†·á„‘á…©á„‚á…¥á†«á„á…³-á„á…³á„…á…µá„‹á…´-á„‹á…¥á„ƒá…µá„‹á…¦á„‰á…¥á„‚á…¡-loaderá„…á…³á†¯-á„‰á…µá„Œá…¡á†¨-á„Œá…®á†¼á„Œá…µá„’á…¡á„‚á…³á†«-á„€á…µá„‚á…³á†¼á„‹á…µ-á„‹á…µá†»á„‹á…³á„†á…§á†«-á„†á…¥á†ºá„Œá…µá†¯-á„€á…¥á†º-á„€á…¡á‡€á„‹á…¡á„‹á…­-âœ¨-á„€á…³á„…á…µá„€á…©-á„‹á…µá†¯á„‡á…¡á†«á„Œá…¥á†¨á„‹á…µá†«-á„…á…©á„ƒá…¥á„€á…¡-á„‘á…­á„‰á…µá„ƒá…¬á†¸á„‚á…µá„ƒá…¡" aria-hidden="true">#</a> ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ì–´ë””ì—ì„œë‚˜ Loaderë¥¼ ì‹œì‘/ì¤‘ì§€í•˜ëŠ” ê¸°ëŠ¥ì´ ìˆìœ¼ë©´ ë©‹ì§ˆ ê²ƒ ê°™ì•„ìš” âœ¨ ê·¸ë¦¬ê³  ì¼ë°˜ì ì¸ ë¡œë”ê°€ í‘œì‹œë©ë‹ˆë‹¤.</h2>
<p>ê·¸ë˜ì„œ ìš°ë¦¬ì˜ ì¼ë°˜ì ì¸ ê¸€ë¡œë²Œ ë¡œë” ì•„í‚¤í…ì²˜ êµ¬í˜„ì€ ì´ë ‡ê²Œ ë³´ì¼ ê±°ì—ìš”ğŸ‘‡</p>
<!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<p><img src="@source/docs/Tech/2024-04-23-AsimpleimplementationofaLoaderinReactusingContextAPICustomHookandTypeScript/img/AsimpleimplementationofaLoaderinReactusingContextAPICustomHookandTypeScript_3.png" alt="example_image"></p>
<h1 id="á„‹á…µá„€á…¥á†¯-á„á…©á„ƒá…³á„…á…©-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥á„‡á…©á†¸á„‰á…µá„ƒá…¡" tabindex="-1"><a class="header-anchor" href="#á„‹á…µá„€á…¥á†¯-á„á…©á„ƒá…³á„…á…©-á„†á…¡á†«á„ƒá…³á†¯á„‹á…¥á„‡á…©á†¸á„‰á…µá„ƒá…¡" aria-hidden="true">#</a> ì´ê±¸ ì½”ë“œë¡œ ë§Œë“¤ì–´ë´…ì‹œë‹¤ &lt;/&gt;</h1>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token comment">//LoaderProvider.ts</span>

<span class="token keyword">export</span> type LoaderContextProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">isLoading</span><span class="token operator">:</span> boolean
  <span class="token function-variable function">start</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
  <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> LoaderContext <span class="token operator">=</span> createContext<span class="token operator">&lt;</span>LoaderContextProps<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> LoaderContextProps<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token comment">//LoaderProvider.ts</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">LoaderProvider</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">children</span><span class="token operator">:</span> ReactNode <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isLoading<span class="token punctuation">,</span> setIsLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>loaderText<span class="token punctuation">,</span> setLoaderText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> start <span class="token operator">=</span> <span class="token punctuation">(</span>loaderText <span class="token operator">=</span> <span class="token string">'Loader...'</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setLoaderText</span><span class="token punctuation">(</span>loaderText<span class="token punctuation">)</span>
    <span class="token function">setIsLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">stop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setIsLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>LoaderContext<span class="token punctuation">.</span>Provider
      value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        isLoading<span class="token punctuation">,</span>
        start<span class="token punctuation">,</span>
        stop<span class="token punctuation">,</span>
        loaderText
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">></span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>LoaderContext<span class="token punctuation">.</span>Provider<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<p>ì´ ë¬¸ë§¥ì—ì„œ ì œê³µëœ ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<ul>
<li>isLoading â†’ (ë¡œë”© ìƒíƒœë¥¼ íŠ¸ë¦¬ê±°í•˜ëŠ” ìƒíƒœì…ë‹ˆë‹¤)</li>
<li>start â†’ (ë¡œë” í…ìŠ¤íŠ¸ë¥¼ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì´ë©° setIsLoadingì„ trueë¡œ ì„¤ì •í•©ë‹ˆë‹¤)</li>
<li>stop â†’ (setIsLoadingì„ trueë¡œ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤)</li>
<li>loaderText â†’ (ë¡œë” í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ìƒíƒœì…ë‹ˆë‹¤)</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token comment">//LoaderProvider.ts</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useLoader</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> loaderContext <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>LoaderContext<span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>loaderContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'LoaderProviderì˜ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ useLoaderë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">start</span><span class="token operator">:</span> loaderContext<span class="token punctuation">.</span>start<span class="token punctuation">,</span>
    <span class="token literal-property property">stop</span><span class="token operator">:</span> loaderContext<span class="token punctuation">.</span>stop
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token comment">//Loader.tsx</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> useContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> LoaderContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/stores/LoaderProvider.tsx'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">Loader</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> isLoading<span class="token punctuation">,</span> loaderText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>LoaderContext<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token punctuation">{</span>isLoading <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"h-full w-full fixed top-0 left-0 bg-black/20 z-[99999]"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"fixed top-1/2 -translate-x-1/2 left-1/2 -translate-y-1/2 flex flex-col items-center gap-4"</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">"loading loading-spinner loading-lg text-primary"</span> <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">></span><span class="token punctuation">{</span>loaderText<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token comment">// Employees.tsx</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> useLoader <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/stores/LoaderProvider.tsx'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Employee <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/constants/employees.ts'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> fetchEmployees <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/apis/employees.ts'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">EmployeesList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>employees<span class="token punctuation">,</span> setEmployees<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>Array<span class="token operator">&lt;</span>Employee<span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> loader <span class="token operator">=</span> <span class="token function">useLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">getEmployees</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      loader<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> employees <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchEmployees</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token function">setEmployees</span><span class="token punctuation">(</span>employees<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'ì§ì› ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      loader<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">getEmployees</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>employees<span class="token operator">?.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>h1 className<span class="token operator">=</span><span class="token string">"text-3xl font-bold mb-4"</span><span class="token operator">></span>Employees<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">"btn btn-primary btn-sm"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>getEmployees<span class="token punctuation">}</span><span class="token operator">></span>
        ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ê¸°
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"overflow-x-auto mt-8"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>table className<span class="token operator">=</span><span class="token string">"table w-full"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>thead<span class="token operator">></span>
            <span class="token operator">&lt;</span>tr<span class="token operator">></span>
              <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
              <span class="token operator">&lt;</span>th<span class="token operator">></span>ì´ë¦„<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
              <span class="token operator">&lt;</span>th<span class="token operator">></span>ì´ë©”ì¼<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
              <span class="token operator">&lt;</span>th<span class="token operator">></span>ì „í™”ë²ˆí˜¸<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span>
          <span class="token operator">&lt;</span>tbody<span class="token operator">></span>
            <span class="token punctuation">{</span>employees<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">employee<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>tr key<span class="token operator">=</span><span class="token punctuation">{</span>employee<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>
                <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token punctuation">{</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
                <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>employee<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
                <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>employee<span class="token punctuation">.</span>email<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
                <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>employee<span class="token punctuation">.</span>phone<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
            <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="á„‹á…ª-á„…á…¡-ğŸŒŸ-á„‹á…µá„Œá…¦-á„‹á…¥á„ƒá…µá„‹á…¦á„‰á…¥á„ƒá…³á†«-á„…á…©á„ƒá…¥-á„‰á…¡á†¼á„á…¢á„…á…³á†¯-á„€á…¡á„Œá…µá„€á…©-á„‹á…ªá„‰á…¥-á„á…¥á†·á„‘á…©á„‚á…¥á†«á„á…³á„‹á…¦-á„á…®á„€á…¡á„…á…©-á„…á…©á„ƒá…µá†¼-á„‰á…¡á†¼á„á…¢á„…á…³á†¯-á„‘á…µá†¯á„‹á…­á„…á…©-á„’á…¡á„Œá…µ-á„‹á…¡á†­á„‹á…¡á„ƒá…©-á„ƒá…¬á†¸á„‚á…µá„ƒá…¡" tabindex="-1"><a class="header-anchor" href="#á„‹á…ª-á„…á…¡-ğŸŒŸ-á„‹á…µá„Œá…¦-á„‹á…¥á„ƒá…µá„‹á…¦á„‰á…¥á„ƒá…³á†«-á„…á…©á„ƒá…¥-á„‰á…¡á†¼á„á…¢á„…á…³á†¯-á„€á…¡á„Œá…µá„€á…©-á„‹á…ªá„‰á…¥-á„á…¥á†·á„‘á…©á„‚á…¥á†«á„á…³á„‹á…¦-á„á…®á„€á…¡á„…á…©-á„…á…©á„ƒá…µá†¼-á„‰á…¡á†¼á„á…¢á„…á…³á†¯-á„‘á…µá†¯á„‹á…­á„…á…©-á„’á…¡á„Œá…µ-á„‹á…¡á†­á„‹á…¡á„ƒá…©-á„ƒá…¬á†¸á„‚á…µá„ƒá…¡" aria-hidden="true">#</a> ì™€-ë¼ ğŸŒŸ, ì´ì œ ì–´ë””ì—ì„œë“  ë¡œë” ìƒíƒœë¥¼ ê°€ì§€ê³  ì™€ì„œ ì»´í¬ë„ŒíŠ¸ì— ì¶”ê°€ë¡œ ë¡œë”© ìƒíƒœë¥¼ í•„ìš”ë¡œ í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤</h2>
<img src="https://miro.medium.com/v2/resize:fit:1400/1*ujILWeq1n9REvDZeyPemAg.gif" />
<h2 id="á„’á…¡á„Œá…µá„†á…¡á†«-á„‹á…µ-á„€á…®á„’á…§á†«á„‹á…¦-á„†á…®á†«á„Œá…¦á„€á…¡-á„‹á…µá†»á„‰á…³á†¸á„‚á…µá„ƒá…¡-ğŸ˜¢" tabindex="-1"><a class="header-anchor" href="#á„’á…¡á„Œá…µá„†á…¡á†«-á„‹á…µ-á„€á…®á„’á…§á†«á„‹á…¦-á„†á…®á†«á„Œá…¦á„€á…¡-á„‹á…µá†»á„‰á…³á†¸á„‚á…µá„ƒá…¡-ğŸ˜¢" aria-hidden="true">#</a> í•˜ì§€ë§Œ ì´ êµ¬í˜„ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤ ğŸ˜¢```</h2>
<!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<p>ì»¨í…ìŠ¤íŠ¸ì—ëŠ” ë‹¨ì¼ ë¡œë”© ìƒíƒœê°€ ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ì´ ë¡œë” í…ìŠ¤íŠ¸ë¥¼ í† ê¸€í•  ê²ƒì…ë‹ˆë‹¤.</p>
<p>requestAë¼ëŠ” ìš”ì²­ì€ ì‹¤í–‰ì— 300msê°€ ì†Œìš”ë˜ê³ ,
ë™ì‹œì— requestBë¼ëŠ” ë‹¤ë¥¸ ìš”ì²­ì€ ì‹¤í–‰ì— 200msê°€ ì†Œìš”ë©ë‹ˆë‹¤.</p>
<p>ë‘ ìš”ì²­ì´ ëª¨ë‘ ì‹¤í–‰ì„ ì‹œì‘í•  ë•Œ loader.start()ë¥¼ í˜¸ì¶œí•˜ë©´ ë¡œë”ëŠ” ë™ì‹œì— ì‹œì‘ë˜ì§€ë§Œ,
requestBì˜ ì‹¤í–‰ì´ ëë‚˜ëŠ” ì‹œì ì— ë¡œë”ë„ ì¤‘ì§€ë©ë‹ˆë‹¤. ì´ë•Œ requestAëŠ” ì•„ì§ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì…ë‹ˆë‹¤.</p>
<p>ë”°ë¼ì„œ requestAì˜ ì‹¤í–‰ ì‹œê°„ ë™ì•ˆ ìŠ¤í”¼ë„ˆê°€ ê³„ì† í‘œì‹œë˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.</p>
<!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<img src="@source/docs/Tech/2024-04-23-AsimpleimplementationofaLoaderinReactusingContextAPICustomHookandTypeScript/img/AsimpleimplementationofaLoaderinReactusingContextAPICustomHookandTypeScript_5.png" />
<h2 id="á„‰á…©á†¯á„…á…®á„‰á…§á†«-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#á„‰á…©á†¯á„…á…®á„‰á…§á†«-ğŸŒŸ" aria-hidden="true">#</a> ì†”ë£¨ì…˜ ğŸŒŸ</h2>
<p>ë¡œë” ìŠ¤íƒì„ ì†Œê°œí•  ê±°ì—ìš”. loader.start()ëŠ” ìŠ¤íƒì— ê°’ì„ ì‚½ì…í•˜ê³ , loader.stop()ì€ ìŠ¤íƒì—ì„œ ê°’ì„ ì‚­ì œí•  ê±°ì—ìš”.</p>
<ul>
<li>ë”°ë¼ì„œ ìŠ¤íƒì´ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´ isLoadingì˜ ê°’ì€ trueê°€ ë  ê±°ì—ìš”.</li>
<li>ê·¸ë¦¬ê³  ìŠ¤íƒì´ ë¹„ì–´ìˆë‹¤ë©´ isLoadingì˜ ê°’ì€ falseê°€ ë  ê±°ì—ìš”.</li>
</ul>
<!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<p><img src="@source/docs/Tech/2024-04-23-AsimpleimplementationofaLoaderinReactusingContextAPICustomHookandTypeScript/img/AsimpleimplementationofaLoaderinReactusingContextAPICustomHookandTypeScript_6.png" alt="ì´ë¯¸ì§€"></p>
<p>ì´ì œ ContextProviderì—ì„œ êµ¬í˜„ì„ ë³€ê²½í•´ ë´…ì‹œë‹¤.</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token comment">// LoaderProvider.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createContext<span class="token punctuation">,</span> ReactNode<span class="token punctuation">,</span> useContext<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> type LoaderContextProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">isLoading</span><span class="token operator">:</span> boolean
  <span class="token literal-property property">loaderText</span><span class="token operator">:</span> string
  <span class="token function-variable function">start</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">loaderText<span class="token operator">?</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
  <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> LoaderContext <span class="token operator">=</span> createContext<span class="token operator">&lt;</span>LoaderContextProps<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> LoaderContextProps<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">LoaderProvider</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">children</span><span class="token operator">:</span> ReactNode <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isLoading<span class="token punctuation">,</span> setIsLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>loaderText<span class="token punctuation">,</span> setLoaderText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>loaderStack<span class="token punctuation">,</span> setLoaderStack<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>Array<span class="token operator">&lt;</span>boolean<span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> start <span class="token operator">=</span> <span class="token punctuation">(</span>loaderText <span class="token operator">=</span> <span class="token string">'Loader...'</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setLoaderText</span><span class="token punctuation">(</span>loaderText<span class="token punctuation">)</span>
    <span class="token function">setLoaderStack</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>loaderStack<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">stop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setLoaderStack</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>loaderStack<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>loaderStack<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setIsLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token function">setIsLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>loaderStack<span class="token punctuation">,</span> start<span class="token punctuation">,</span> stop<span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>LoaderContext<span class="token punctuation">.</span>Provider
      value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        isLoading<span class="token punctuation">,</span>
        start<span class="token punctuation">,</span>
        stop<span class="token punctuation">,</span>
        loaderText
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">></span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>LoaderContext<span class="token punctuation">.</span>Provider<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useLoader</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> loaderContext <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>LoaderContext<span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>loaderContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'LoaderProvider ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ useLoaderë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">start</span><span class="token operator">:</span> loaderContext<span class="token punctuation">.</span>start<span class="token punctuation">,</span>
    <span class="token literal-property property">stop</span><span class="token operator">:</span> loaderContext<span class="token punctuation">.</span>stop
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="á„†á…¡á„†á…®á„…á…µ" tabindex="-1"><a class="header-anchor" href="#á„†á…¡á„†á…®á„…á…µ" aria-hidden="true">#</a> ë§ˆë¬´ë¦¬</h1>
<!-- ui-log ìˆ˜í‰í˜• -->
<p><ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins></p>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>
<p>ì›¹ ê°œë°œìë“¤ì˜ ê¿ˆì€ í™•ì¥ ê°€ëŠ¥í•˜ê³  ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ í”„ë¡œì íŠ¸ì—ì„œ ììœ ë¡­ê²Œ ì‚¬ìš©í•˜ê³  ì¡°ì •í•´ë³´ì„¸ìš”. í–‰ë³µí•œ ì½”ë”©ì„ ê¸°ì–µí•´ì£¼ì„¸ìš”, React ê°œë°œì ì—¬ëŸ¬ë¶„! ğŸ˜âœ¨</p>
<h1 id="á„‘á…µá„ƒá…³á„‡á…¢á†¨-âœ‰ï¸" tabindex="-1"><a class="header-anchor" href="#á„‘á…µá„ƒá…³á„‡á…¢á†¨-âœ‰ï¸" aria-hidden="true">#</a> í”¼ë“œë°± âœ‰ï¸</h1>
<p>ë§Œì•½ ì´ì— ëŒ€í•œ ì œì•ˆì´ ìˆìœ¼ì‹œë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš”. ì´ ì €ì¥ì†Œì—ì„œ í¬í¬í•˜ì—¬ ììœ ë¡­ê²Œ ë³€ê²½í•˜ì…”ë„ ë©ë‹ˆë‹¤.</p>
</div></template>
