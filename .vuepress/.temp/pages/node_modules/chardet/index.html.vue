<template><div><h1 id="chardet" tabindex="-1"><a class="header-anchor" href="#chardet" aria-hidden="true">#</a> chardet <a href="https://travis-ci.org/runk/node-chardet" target="_blank" rel="noopener noreferrer"><img src="https://travis-ci.org/runk/node-chardet.png" alt="Build Status"><ExternalLinkIcon/></a></h1>
<p>Chardet is a character detection module for NodeJS written in pure Javascript.
Module is based on ICU project http://site.icu-project.org/, which uses character
occurency analysis to determine the most probable encoding.</p>
<h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h2>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>npm i chardet
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2>
<p>To return the encoding with the highest confidence:</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">var</span> chardet <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chardet'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chardet<span class="token punctuation">.</span><span class="token function">detect</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token string">'hello there!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
chardet<span class="token punctuation">.</span><span class="token function">detectFile</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> encoding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
chardet<span class="token punctuation">.</span><span class="token function">detectFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To return the full list of possible encodings:</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">var</span> chardet <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chardet'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chardet<span class="token punctuation">.</span><span class="token function">detectAll</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token string">'hello there!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
chardet<span class="token punctuation">.</span><span class="token function">detectFileAll</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> encoding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
chardet<span class="token punctuation">.</span><span class="token function">detectFileAllSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Returned value is an array of objects sorted by confidence value in decending order</span>
<span class="token comment">//e.g. [{ confidence: 90, name: 'UTF-8'}, {confidence: 20, name: 'windows-1252', lang: 'fr'}]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="working-with-large-data-sets" tabindex="-1"><a class="header-anchor" href="#working-with-large-data-sets" aria-hidden="true">#</a> Working with large data sets</h2>
<p>Sometimes, when data set is huge and you want to optimize performace (in tradeoff of less accuracy),
you can sample only first N bytes of the buffer:</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>chardet<span class="token punctuation">.</span><span class="token function">detectFile</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">sampleSize</span><span class="token operator">:</span> <span class="token number">32</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> encoding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="supported-encodings" tabindex="-1"><a class="header-anchor" href="#supported-encodings" aria-hidden="true">#</a> Supported Encodings:</h2>
<ul>
<li>UTF-8</li>
<li>UTF-16 LE</li>
<li>UTF-16 BE</li>
<li>UTF-32 LE</li>
<li>UTF-32 BE</li>
<li>ISO-2022-JP</li>
<li>ISO-2022-KR</li>
<li>ISO-2022-CN</li>
<li>Shift-JIS</li>
<li>Big5</li>
<li>EUC-JP</li>
<li>EUC-KR</li>
<li>GB18030</li>
<li>ISO-8859-1</li>
<li>ISO-8859-2</li>
<li>ISO-8859-5</li>
<li>ISO-8859-6</li>
<li>ISO-8859-7</li>
<li>ISO-8859-8</li>
<li>ISO-8859-9</li>
<li>windows-1250</li>
<li>windows-1251</li>
<li>windows-1252</li>
<li>windows-1253</li>
<li>windows-1254</li>
<li>windows-1255</li>
<li>windows-1256</li>
<li>KOI8-R</li>
</ul>
<p>Currently only these encodings are supported, more will be added soon.</p>
</div></template>
