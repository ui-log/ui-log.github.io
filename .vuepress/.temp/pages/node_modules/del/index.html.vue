<template><div><h1 id="del" tabindex="-1"><a class="header-anchor" href="#del" aria-hidden="true">#</a> del</h1>
<blockquote>
<p>Delete files and directories using <a href="https://github.com/sindresorhus/globby#globbing-patterns" target="_blank" rel="noopener noreferrer">globs<ExternalLinkIcon/></a></p>
</blockquote>
<p>Similar to <a href="https://github.com/isaacs/rimraf" target="_blank" rel="noopener noreferrer">rimraf<ExternalLinkIcon/></a>, but with a Promise API and support for multiple files and globbing. It also protects you against deleting the current working directory and above.</p>
<h2 id="install" tabindex="-1"><a class="header-anchor" href="#install" aria-hidden="true">#</a> Install</h2>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>$ npm install del
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'del'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> deletedFilePaths <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'temp/*.js'</span><span class="token punctuation">,</span> <span class="token string">'!temp/unicorn.js'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> deletedDirectoryPaths <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'temp'</span><span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Deleted files:\n'</span><span class="token punctuation">,</span> deletedFilePaths<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'\n\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Deleted directories:\n'</span><span class="token punctuation">,</span> deletedDirectoryPaths<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="beware" tabindex="-1"><a class="header-anchor" href="#beware" aria-hidden="true">#</a> Beware</h2>
<p>The glob pattern <code v-pre>**</code> matches all children and <em>the parent</em>.</p>
<p>So this won't work:</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>del<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'public/assets/**'</span><span class="token punctuation">,</span> <span class="token string">'!public/assets/goat.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You have to explicitly ignore the parent directories too:</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>del<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'public/assets/**'</span><span class="token punctuation">,</span> <span class="token string">'!public/assets'</span><span class="token punctuation">,</span> <span class="token string">'!public/assets/goat.png'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To delete all subdirectories inside <code v-pre>public/</code>, you can do:</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code>del<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'public/*/'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Suggestions on how to improve this welcome!</p>
<h2 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2>
<p>Note that glob patterns can only contain forward-slashes, not backward-slashes. Windows file paths can use backward-slashes as long as the path does not contain any glob-like characters, otherwise use <code v-pre>path.posix.join()</code> instead of <code v-pre>path.join()</code>.</p>
<h3 id="del-patterns-options" tabindex="-1"><a class="header-anchor" href="#del-patterns-options" aria-hidden="true">#</a> del(patterns, options?)</h3>
<p>Returns <code v-pre>Promise&lt;string[]&gt;</code> with the deleted paths.</p>
<h3 id="del-sync-patterns-options" tabindex="-1"><a class="header-anchor" href="#del-sync-patterns-options" aria-hidden="true">#</a> del.sync(patterns, options?)</h3>
<p>Returns <code v-pre>string[]</code> with the deleted paths.</p>
<h4 id="patterns" tabindex="-1"><a class="header-anchor" href="#patterns" aria-hidden="true">#</a> patterns</h4>
<p>Type: <code v-pre>string | string[]</code></p>
<p>See the supported <a href="https://github.com/sindresorhus/globby#globbing-patterns" target="_blank" rel="noopener noreferrer">glob patterns<ExternalLinkIcon/></a>.</p>
<ul>
<li><a href="https://github.com/sindresorhus/multimatch/blob/main/test/test.js" target="_blank" rel="noopener noreferrer">Pattern examples with expected matches<ExternalLinkIcon/></a></li>
<li><a href="https://github.com/sindresorhus/multimatch#globbing-patterns" target="_blank" rel="noopener noreferrer">Quick globbing pattern overview<ExternalLinkIcon/></a></li>
</ul>
<h4 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> options</h4>
<p>Type: <code v-pre>object</code></p>
<p>You can specify any of the <a href="https://github.com/sindresorhus/globby#options" target="_blank" rel="noopener noreferrer"><code v-pre>globby</code> options<ExternalLinkIcon/></a> in addition to the below options. In contrast to the <code v-pre>globby</code> defaults, <code v-pre>expandDirectories</code>, <code v-pre>onlyFiles</code>, and <code v-pre>followSymbolicLinks</code> are <code v-pre>false</code> by default.</p>
<h5 id="force" tabindex="-1"><a class="header-anchor" href="#force" aria-hidden="true">#</a> force</h5>
<p>Type: <code v-pre>boolean</code><br>
Default: <code v-pre>false</code></p>
<p>Allow deleting the current working directory and outside.</p>
<h5 id="dryrun" tabindex="-1"><a class="header-anchor" href="#dryrun" aria-hidden="true">#</a> dryRun</h5>
<p>Type: <code v-pre>boolean</code><br>
Default: <code v-pre>false</code></p>
<p>See what would be deleted.</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'del'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> deletedPaths <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'temp/*.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">dryRun</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Files and directories that would be deleted:\n'</span><span class="token punctuation">,</span> deletedPaths<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="concurrency" tabindex="-1"><a class="header-anchor" href="#concurrency" aria-hidden="true">#</a> concurrency</h5>
<p>Type: <code v-pre>number</code><br>
Default: <code v-pre>Infinity</code><br>
Minimum: <code v-pre>1</code></p>
<p>Concurrency limit.</p>
<h5 id="onprogress" tabindex="-1"><a class="header-anchor" href="#onprogress" aria-hidden="true">#</a> onProgress</h5>
<p>Type: <code v-pre>(progress: ProgressData) =&gt; void</code></p>
<p>Called after each file or directory is deleted.</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">import</span> del <span class="token keyword">from</span> <span class="token string">'del'</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> <span class="token function">del</span><span class="token punctuation">(</span>patterns<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">onProgress</span><span class="token operator">:</span> <span class="token parameter">progress</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token comment">// …</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="progressdata" tabindex="-1"><a class="header-anchor" href="#progressdata" aria-hidden="true">#</a> ProgressData</h6>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token punctuation">{</span>
	<span class="token literal-property property">totalCount</span><span class="token operator">:</span> number<span class="token punctuation">,</span>
	<span class="token literal-property property">deletedCount</span><span class="token operator">:</span> number<span class="token punctuation">,</span>
	<span class="token literal-property property">percent</span><span class="token operator">:</span> number
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li><code v-pre>percent</code> is a value between <code v-pre>0</code> and <code v-pre>1</code></li>
</ul>
<h2 id="cli" tabindex="-1"><a class="header-anchor" href="#cli" aria-hidden="true">#</a> CLI</h2>
<p>See <a href="https://github.com/sindresorhus/del-cli" target="_blank" rel="noopener noreferrer">del-cli<ExternalLinkIcon/></a> for a CLI for this module and <a href="https://github.com/sindresorhus/trash-cli" target="_blank" rel="noopener noreferrer">trash-cli<ExternalLinkIcon/></a> for a safe version that is suitable for running by hand.</p>
<h2 id="del-for-enterprise" tabindex="-1"><a class="header-anchor" href="#del-for-enterprise" aria-hidden="true">#</a> del for enterprise</h2>
<p>Available as part of the Tidelift Subscription.</p>
<p>The maintainers of del and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use. <a href="https://tidelift.com/subscription/pkg/npm-del?utm_source=npm-del&amp;utm_medium=referral&amp;utm_campaign=enterprise&amp;utm_term=repo" target="_blank" rel="noopener noreferrer">Learn more.<ExternalLinkIcon/></a></p>
<h2 id="related" tabindex="-1"><a class="header-anchor" href="#related" aria-hidden="true">#</a> Related</h2>
<ul>
<li><a href="https://github.com/sindresorhus/make-dir" target="_blank" rel="noopener noreferrer">make-dir<ExternalLinkIcon/></a> - Make a directory and its parents if needed</li>
<li><a href="https://github.com/sindresorhus/globby" target="_blank" rel="noopener noreferrer">globby<ExternalLinkIcon/></a> - User-friendly glob matching</li>
</ul>
</div></template>
