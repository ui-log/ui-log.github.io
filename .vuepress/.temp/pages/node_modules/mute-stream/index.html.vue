<template><div><h1 id="mute-stream" tabindex="-1"><a class="header-anchor" href="#mute-stream" aria-hidden="true">#</a> mute-stream</h1>
<p>Bytes go in, but they don't come out (when muted).</p>
<p>This is a basic pass-through stream, but when muted, the bytes are
silently dropped, rather than being passed through.</p>
<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">var</span> MuteStream <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mute-stream'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> ms <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MuteStream</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>

ms<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span>
ms<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token comment">// writes 'foo' to stdout</span>
ms<span class="token punctuation">.</span><span class="token function">mute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ms<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span> <span class="token comment">// does not write 'bar'</span>
ms<span class="token punctuation">.</span><span class="token function">unmute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ms<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">)</span> <span class="token comment">// writes 'baz' to stdout</span>

<span class="token comment">// can also be used to mute incoming data</span>
<span class="token keyword">var</span> ms <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MuteStream</span>
input<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>

ms<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'data: '</span> <span class="token operator">+</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

input<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token comment">// logs 'foo'</span>
ms<span class="token punctuation">.</span><span class="token function">mute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
input<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span> <span class="token comment">// does not log 'bar'</span>
ms<span class="token punctuation">.</span><span class="token function">unmute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
input<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">)</span> <span class="token comment">// logs 'baz'</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> Options</h2>
<p>All options are optional.</p>
<ul>
<li>
<p><code v-pre>replace</code> Set to a string to replace each character with the
specified string when muted.  (So you can show <code v-pre>****</code> instead of the
password, for example.)</p>
</li>
<li>
<p><code v-pre>prompt</code> If you are using a replacement char, and also using a
prompt with a readline stream (as for a <code v-pre>Password: *****</code> input),
then specify what the prompt is so that backspace will work
properly.  Otherwise, pressing backspace will overwrite the prompt
with the replacement character, which is weird.</p>
</li>
</ul>
<h2 id="ms-mute" tabindex="-1"><a class="header-anchor" href="#ms-mute" aria-hidden="true">#</a> ms.mute()</h2>
<p>Set <code v-pre>muted</code> to <code v-pre>true</code>.  Turns <code v-pre>.write()</code> into a no-op.</p>
<h2 id="ms-unmute" tabindex="-1"><a class="header-anchor" href="#ms-unmute" aria-hidden="true">#</a> ms.unmute()</h2>
<p>Set <code v-pre>muted</code> to <code v-pre>false</code></p>
<h2 id="ms-istty" tabindex="-1"><a class="header-anchor" href="#ms-istty" aria-hidden="true">#</a> ms.isTTY</h2>
<p>True if the pipe destination is a TTY, or if the incoming pipe source is
a TTY.</p>
<h2 id="other-stream-methods" tabindex="-1"><a class="header-anchor" href="#other-stream-methods" aria-hidden="true">#</a> Other stream methods...</h2>
<p>The other standard readable and writable stream methods are all
available.  The MuteStream object acts as a facade to its pipe source
and destination.</p>
</div></template>
