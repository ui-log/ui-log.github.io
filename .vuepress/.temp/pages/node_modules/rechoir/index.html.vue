<template><div><p align="center">
  <a href="http://gulpjs.com">
    <img height="257" width="114" src="https://raw.githubusercontent.com/gulpjs/artwork/master/gulp-2x.png">
  </a>
</p>
<h1 id="rechoir" tabindex="-1"><a class="header-anchor" href="#rechoir" aria-hidden="true">#</a> rechoir</h1>
<p><a href="https://www.npmjs.com/package/rechoir" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/v/rechoir.svg?style=flat-square" alt="NPM version"><ExternalLinkIcon/></a> <a href="https://www.npmjs.com/package/rechoir" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/dm/rechoir.svg?style=flat-square" alt="Downloads"><ExternalLinkIcon/></a> <a href="https://github.com/gulpjs/rechoir/actions?query=workflow:dev" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/workflow/status/gulpjs/rechoir/dev?style=flat-square" alt="Build Status"><ExternalLinkIcon/></a> <a href="https://coveralls.io/r/gulpjs/rechoir" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/coveralls/gulpjs/rechoir/master.svg" alt="Coveralls Status"><ExternalLinkIcon/></a></p>
<p>Prepare a node environment to require files with different extensions.</p>
<h2 id="what-is-it" tabindex="-1"><a class="header-anchor" href="#what-is-it" aria-hidden="true">#</a> What is it?</h2>
<p>This module, in conjunction with <a href="https://github.com/gulpjs/interpret" target="_blank" rel="noopener noreferrer">interpret<ExternalLinkIcon/></a>-like objects, can register any filetype the npm ecosystem has a module loader for. This library is a dependency of <a href="https://github.com/js-cli/js-liftoff" target="_blank" rel="noopener noreferrer">liftoff<ExternalLinkIcon/></a>.</p>
<p><strong>Note:</strong> While <code v-pre>rechoir</code> will automatically load and register transpilers like <code v-pre>coffee-script</code>, you must provide a local installation. The transpilers are <strong>not</strong> bundled with this module.</p>
<h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'interpret'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extensions<span class="token punctuation">;</span>
<span class="token keyword">const</span> rechoir <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'rechoir'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rechoir<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> <span class="token string">'./test/fixtures/test.coffee'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rechoir<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> <span class="token string">'./test/fixtures/test.csv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rechoir<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> <span class="token string">'./test/fixtures/test.toml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./test/fixtures/test.coffee'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./test/fixtures/test.csv'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./test/fixtures/test.toml'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2>
<h3 id="prepare-config-filepath-cwd-nothrow" tabindex="-1"><a class="header-anchor" href="#prepare-config-filepath-cwd-nothrow" aria-hidden="true">#</a> <code v-pre>prepare(config, filepath, [cwd], [noThrow])</code></h3>
<p>Look for a module loader associated with the provided file and attempt require it. If necessary, run any setup required to inject it into <a href="https://nodejs.org/api/modules.html#modules_require_extensions" target="_blank" rel="noopener noreferrer">require.extensions<ExternalLinkIcon/></a>.</p>
<p><code v-pre>config</code> An <a href="https://github.com/gulpjs/interpret" target="_blank" rel="noopener noreferrer">interpret<ExternalLinkIcon/></a>-like configuration object.</p>
<p><code v-pre>filepath</code> A file whose type you'd like to register a module loader for.</p>
<p><code v-pre>cwd</code> An optional path to start searching for the module required to load the requested file. Defaults to the directory of <code v-pre>filepath</code>.</p>
<p><code v-pre>noThrow</code> An optional boolean indicating if the method should avoid throwing.</p>
<p>If calling this method is successful (e.g. it doesn't throw), you can now require files of the type you requested natively.</p>
<p>An error with a <code v-pre>failures</code> property will be thrown if the module loader(s) configured for a given extension cannot be registered.</p>
<p>If a loader is already registered, this will simply return <code v-pre>true</code>.</p>
<h2 id="license" tabindex="-1"><a class="header-anchor" href="#license" aria-hidden="true">#</a> License</h2>
<p>MIT</p>
<!-- prettier-ignore-start -->
<!-- prettier-ignore-end -->
<!-- prettier-ignore-start -->
<!-- prettier-ignore-end -->
</div></template>
