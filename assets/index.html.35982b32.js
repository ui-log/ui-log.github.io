import{_ as n}from"./app.3052dcfb.js";import{l as s,m as a,K as t}from"./@vue.46e0ff50.js";import"./ts-debounce.471e9b22.js";import"./vue-router.66b7519d.js";import"./medium-zoom.0cdb07e4.js";import"./@vueuse.f471c5d7.js";const p={},e=t(`<p>\uC774 \uC548\uB0B4\uC11C\uB97C \uD1B5\uD574 \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8\uB97C Storyshots \uC560\uB4DC\uC628\uC5D0\uC11C Storybook\uC758 \uD14C\uC2A4\uD2B8 \uB7EC\uB108 \uB610\uB294 \uD3EC\uD130\uBE14 \uC2A4\uD1A0\uB9AC\uB85C \uB9C8\uC774\uADF8\uB808\uC774\uC158\uD558\uB294 \uBC29\uBC95\uC744 \uBC30\uC6B8 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uB610\uD55C \uADF8\uB4E4 \uAC04\uC758 \uCC28\uC774\uC810\uC744 \uC774\uD574\uD558\uACE0 Storybook\uC774 \uC81C\uACF5\uD558\uB294 \uB3C4\uAD6C\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8\uB97C \uC124\uC815, \uAD6C\uC131 \uBC0F \uC2E4\uD589\uD560 \uC218 \uC788\uAC8C \uB420 \uAC83\uC785\uB2C8\uB2E4.</p><h2 id="storyshots\u110B\u1166\u1109\u1165\u110B\u1174-\u1110\u1166\u1109\u1173\u1110\u1173-\u1106\u1161\u110B\u1175\u1100\u1173\u1105\u1166\u110B\u1175\u1109\u1167\u11AB" tabindex="-1"><a class="header-anchor" href="#storyshots\u110B\u1166\u1109\u1165\u110B\u1174-\u1110\u1166\u1109\u1173\u1110\u1173-\u1106\u1161\u110B\u1175\u1100\u1173\u1105\u1166\u110B\u1175\u1109\u1167\u11AB" aria-hidden="true">#</a> Storyshots\uC5D0\uC11C\uC758 \uD14C\uC2A4\uD2B8 \uB9C8\uC774\uADF8\uB808\uC774\uC158</h2><h3 id="\u110C\u116E\u11AB\u1107\u1175\u1106\u116E\u11AF" tabindex="-1"><a class="header-anchor" href="#\u110C\u116E\u11AB\u1107\u1175\u1106\u116E\u11AF" aria-hidden="true">#</a> \uC900\uBE44\uBB3C</h3><p>\uB9C8\uC774\uADF8\uB808\uC774\uC158 \uD504\uB85C\uC138\uC2A4\uB97C \uC2DC\uC791\uD558\uAE30 \uC804\uC5D0 \uB2E4\uC74C \uC0AC\uD56D\uC774 \uC788\uB294\uC9C0 \uD655\uC778\uD558\uC138\uC694:</p><ul><li>\uC9C0\uC6D0\uB418\uB294 \uD504\uB808\uC784\uC6CC\uD06C \uC911 \uD558\uB098\uB85C \uC124\uC815\uB41C \uC644\uC804\uD788 \uAE30\uB2A5\uC801\uC778 Storybook\uC774 \uCD5C\uC2E0 \uC548\uC815 \uBC84\uC804(\uC989, 7.6 \uC774\uC0C1)\uC5D0\uC11C \uC2E4\uD589 \uC911\uC785\uB2C8\uB2E4.</li><li>\uD604\uC7AC Storybook \uBC0F \uD574\uB2F9 \uD14C\uC2A4\uD2B8 \uC124\uC815\uC5D0 \uB300\uD55C \uCE5C\uC219\uD568\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.</li></ul><h3 id="\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u110B\u116A-\u1112\u1161\u11B7\u1101\u1166" tabindex="-1"><a class="header-anchor" href="#\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u110B\u116A-\u1112\u1161\u11B7\u1101\u1166" aria-hidden="true">#</a> \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uC640 \uD568\uAED8</h3><p>Storybook \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB294 \uBAA8\uB4E0 \uC774\uC57C\uAE30\uB97C \uC2E4\uD589 \uAC00\uB2A5\uD55C \uD14C\uC2A4\uD2B8\uB85C \uBCC0\uD658\uD569\uB2C8\uB2E4. Jest\uC640 Playwright\uB97C \uAE30\uBC18\uC73C\uB85C \uD569\uB2C8\uB2E4. \uB2E8\uB3C5 \uC2E4\uD589\uC774 \uAC00\uB2A5\uD55C \uD504\uB808\uC784\uC6CC\uD06C \uC911\uB9BD\uC801 \uC720\uD2F8\uB9AC\uD2F0\uB85C Storybook\uACFC \uBCD1\uB82C\uB85C \uC2E4\uD589\uB429\uB2C8\uB2E4. \uC774\uB97C \uD1B5\uD574 play \uD568\uC218\uB97C \uC0AC\uC6A9\uD55C \uC0C1\uD638 \uC791\uC6A9 \uD14C\uC2A4\uD2B8, DOM \uC2A4\uB0C5\uC0F7 \uBC0F \uC811\uADFC\uC131 \uD14C\uC2A4\uD2B8\uB97C \uD3EC\uD568\uD55C \uC5EC\uB7EC \uD14C\uC2A4\uD2B8 \uD328\uD134\uC744 \uBA40\uD2F0 \uBE0C\uB77C\uC6B0\uC800 \uD658\uACBD\uC5D0\uC11C \uC2E4\uD589\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><h4 id="\u1109\u1165\u11AF\u110C\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1109\u1165\u11AF\u110C\u1165\u11BC" aria-hidden="true">#</a> \uC124\uC815</h4><p>Storyshots \uC560\uB4DC\uC628\uC5D0\uC11C \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB85C\uC758 \uC774\uC8FC \uD504\uB85C\uC138\uC2A4\uB97C \uC2DC\uC791\uD558\uB824\uBA74, \uD504\uB85C\uC81D\uD2B8\uC5D0\uC11C Storyshots \uC560\uB4DC\uC628 \uBC0F \uC720\uC0AC\uD55C \uD328\uD0A4\uC9C0(\uC608: storybook/addon-storyshots-puppeteer)\uB97C \uC81C\uAC70\uD558\uACE0 \uAD00\uB828\uB41C \uAD6C\uC131 \uD30C\uC77C\uC744 \uBAA8\uB450 \uC0AD\uC81C\uD558\uB294 \uAC83\uC744 \uAD8C\uC7A5\uD569\uB2C8\uB2E4. \uADF8\uB7F0 \uB2E4\uC74C, \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uC758 \uC124\uC815 \uC9C0\uCE68\uC5D0 \uB530\uB77C \uC124\uCE58, \uAD6C\uC131 \uBC0F \uC2E4\uD589\uD558\uB294 \uAC83\uC774 \uC88B\uC2B5\uB2C8\uB2E4.</p><h4 id="\u1110\u1166\u1109\u1173\u1110\u1173-\u110F\u1165\u1107\u1165\u1105\u1175\u110C\u1175-\u1112\u116A\u11A8\u1103\u1162\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#\u1110\u1166\u1109\u1173\u1110\u1173-\u110F\u1165\u1107\u1165\u1105\u1175\u110C\u1175-\u1112\u116A\u11A8\u1103\u1162\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> \uD14C\uC2A4\uD2B8 \uCEE4\uBC84\uB9AC\uC9C0 \uD655\uB300\uD558\uAE30</h4><p>Storyshots \uC560\uB4DC\uC628\uC740 \uB9E4\uC6B0 \uB9DE\uCDA4\uD654\uB41C \uD14C\uC2A4\uD2B8 \uC194\uB8E8\uC158\uC744 \uC81C\uACF5\uD558\uC5EC \uC0AC\uC6A9\uC790\uAC00 \uB2E4\uC591\uD55C \uBC29\uBC95\uC73C\uB85C \uD14C\uC2A4\uD2B8 \uCEE4\uBC84\uB9AC\uC9C0\uB97C \uD655\uC7A5\uD560 \uC218 \uC788\uB3C4\uB85D \uD588\uC2B5\uB2C8\uB2E4. \uADF8\uB7EC\uB098 \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB294 \uB2E4\uB978 API\uB97C \uC0AC\uC6A9\uD558\uBA74\uC11C \uC720\uC0AC\uD55C \uACBD\uD5D8\uC744 \uC81C\uACF5\uD569\uB2C8\uB2E4. \uC544\uB798\uC5D0\uC11C\uB294 Storyshots\uB85C \uB2EC\uC131\uD55C \uACB0\uACFC\uC640 \uC720\uC0AC\uD55C \uACB0\uACFC\uB97C \uC5BB\uAE30 \uC704\uD574 \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB97C \uC0AC\uC6A9\uD558\uB294 \uCD94\uAC00 \uC608\uC2DC\uB97C \uCC3E\uC744 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><h4 id="\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u1105\u1173\u11AF-\u1109\u1161\u110B\u116D\u11BC\u1112\u1161\u110B\u1167-dom-\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1110\u1166\u1109\u1173\u1110\u1173-\u1112\u116A\u11AF\u1109\u1165\u11BC\u1112\u116A\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u1105\u1173\u11AF-\u1109\u1161\u110B\u116D\u11BC\u1112\u1161\u110B\u1167-dom-\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1110\u1166\u1109\u1173\u1110\u1173-\u1112\u116A\u11AF\u1109\u1165\u11BC\u1112\u116A\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB97C \uC0AC\uC6A9\uD558\uC5EC DOM \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8 \uD65C\uC131\uD654\uD558\uAE30</h4><p>DOM \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8\uB97C \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB85C \uD65C\uC131\uD654\uD558\uB824\uBA74, \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uC758 \uAD6C\uC131 \uD30C\uC77C\uC744 \uD655\uC7A5\uD558\uACE0 \uC0AC\uC6A9 \uAC00\uB2A5\uD55C \uD6C5\uC744 \uD65C\uC6A9\uD558\uC5EC Playwright\uC758 \uB0B4\uC7A5 API\uB97C \uACB0\uD569\uD558\uC5EC \uD504\uB85C\uC81D\uD2B8\uC758 \uAC01 \uC2A4\uD1A0\uB9AC\uC5D0 \uB300\uD55C DOM \uC2A4\uB0C5\uC0F7\uC744 \uC0DD\uC131\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC608\uB97C \uB4E4\uC5B4:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> TestRunnerConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/test-runner&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config<span class="token operator">:</span> TestRunnerConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">postVisit</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// #storybook-root \uC694\uC18C\uB294 \uC2A4\uD1A0\uB9AC\uB97C \uB7A9\uD569\uB2C8\uB2E4. Storybook 6.x\uC5D0\uC11C \uC120\uD0DD\uAE30\uB294 #root\uC785\uB2C8\uB2E4.</span>
    <span class="token keyword">const</span> elementHandler <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#storybook-root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> innerHTML <span class="token operator">=</span> <span class="token keyword">await</span> elementHandler<span class="token punctuation">.</span><span class="token function">innerHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> config<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u1105\u1169-\u110B\u1175\u1106\u1175\u110C\u1175-\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1110\u1166\u1109\u1173\u1110\u1173-\u1109\u1175\u11AF\u1112\u1162\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u1105\u1169-\u110B\u1175\u1106\u1175\u110C\u1175-\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1110\u1166\u1109\u1173\u1110\u1173-\u1109\u1175\u11AF\u1112\u1162\u11BC" aria-hidden="true">#</a> \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB85C \uC774\uBBF8\uC9C0 \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8 \uC2E4\uD589</h4><p>\uAE30\uBCF8\uC801\uC73C\uB85C \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB294 \uCD5C\uC18C\uD55C\uC758 \uAD6C\uC131\uC73C\uB85C \uC5EC\uB7EC \uD14C\uC2A4\uD305 \uD328\uD134(\uC608: DOM \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8, \uC811\uADFC\uC131)\uC744 \uC2E4\uD589\uD560 \uC218 \uC788\uB294 \uC635\uC158\uC744 \uC81C\uACF5\uD569\uB2C8\uB2E4. \uADF8\uB7EC\uB098 \uC6D0\uD55C\uB2E4\uBA74 \uB2E4\uB978 \uD14C\uC2A4\uD2B8\uC640 \uD568\uAED8 \uC2DC\uAC01\uC801 \uD68C\uADC0 \uD14C\uC2A4\uD2B8\uB97C \uC2E4\uD589\uD558\uB3C4\uB85D \uD655\uC7A5\uD558\uC5EC \uC2E4\uD589\uD560 \uC218\uB3C4 \uC788\uC2B5\uB2C8\uB2E4. \uC608\uB97C \uB4E4\uC5B4:\`\`\`</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> TestRunnerConfig<span class="token punctuation">,</span> waitForPageReady <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/test-runner&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> toMatchImageSnapshot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;jest-image-snapshot&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> customSnapshotsDir <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/__snapshots__</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config<span class="token operator">:</span> TestRunnerConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    expect<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span> toMatchImageSnapshot <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token function">postVisit</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \uD398\uC774\uC9C0\uAC00 \uC900\uBE44\uB418\uAE30 \uC804\uC5D0 \uC2A4\uD06C\uB9B0\uC0F7\uC744 \uCC0D\uAE30 \uC704\uD574 \uD398\uC774\uC9C0\uAC00 \uC900\uBE44\uB420 \uB54C\uAE4C\uC9C0 \uAE30\uB2E4\uB9BD\uB2C8\uB2E4.</span>
    <span class="token keyword">await</span> <span class="token function">waitForPageReady</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \uC11C\uB85C \uB2E4\uB978 \uBE0C\uB77C\uC6B0\uC800\uC5D0 \uB300\uD574 \uC2A4\uD06C\uB9B0\uC0F7\uC744 \uCEA1\uCC98\uD558\uB824\uBA74 \uD30C\uC77C \uC774\uB984\uC5D0 \uBE0C\uB77C\uC6B0\uC800 \uC774\uB984\uC744 \uC811\uB450\uC5B4\uB85C \uCD94\uAC00\uD558\uB824\uBA74 page.context().browser().browserType().name()\uB97C \uCD94\uAC00\uD558\uC2ED\uC2DC\uC624</span>
    <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchImageSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      customSnapshotsDir<span class="token punctuation">,</span>
      customSnapshotIdentifier<span class="token operator">:</span> context<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> config<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="with-portable-stories" tabindex="-1"><a class="header-anchor" href="#with-portable-stories" aria-hidden="true">#</a> With Portable Stories</h3><p>Storybook\uC740 \uC774\uC57C\uAE30 \uD30C\uC77C\uC5D0\uC11C \uC2A4\uD1A0\uB9AC\uB97C \uB80C\uB354\uB9C1 \uAC00\uB2A5\uD55C \uC694\uC18C\uB85C \uBCC0\uD658\uD558\uC5EC Node \uD14C\uC2A4\uD2B8\uC5D0\uC11C JSDOM\uACFC \uD568\uAED8 \uC7AC\uC0AC\uC6A9\uD560 \uC218 \uC788\uB294 composeStories \uC720\uD2F8\uB9AC\uD2F0\uB97C \uC81C\uACF5\uD569\uB2C8\uB2E4. \uB610\uD55C \uD504\uB85C\uC81D\uD2B8\uC5D0\uC11C \uD65C\uC131\uD654\uD55C \uB2E4\uB978 Storybook \uAE30\uB2A5 (\uC608: \uB370\uCF54\uB808\uC774\uD130, args)\uC744 \uC801\uC6A9\uD560 \uC218 \uC788\uC5B4 \uAD6C\uC131 \uC694\uC18C\uAC00 \uC62C\uBC14\uB974\uAC8C \uB80C\uB354\uB9C1\uB418\uB3C4\uB85D \uD569\uB2C8\uB2E4. \uC774\uAC83\uC774 \uBC14\uB85C \uD734\uB300\uC6A9 \uC2A4\uD1A0\uB9AC(portable stories)\uB77C\uACE0 \uC54C\uB824\uC9C4 \uAC83\uC785\uB2C8\uB2E4.</p><h4 id="\u1109\u1165\u11AF\u110C\u1165\u11BC-1" tabindex="-1"><a class="header-anchor" href="#\u1109\u1165\u11AF\u110C\u1165\u11BC-1" aria-hidden="true">#</a> \uC124\uC815</h4><p>\uD604\uC7AC\uC758 \uC2A4\uD1A0\uB9AC\uC0F7 \uD14C\uC2A4\uD2B8\uB97C \uC911\uC9C0\uD558\uACE0 \uC774\uC8FC \uD504\uB85C\uC138\uC2A4\uB97C \uC2DC\uC791\uD558\uB294 \uAC83\uC744 \uAD8C\uC7A5\uD569\uB2C8\uB2E4. \uC774\uB97C \uC704\uD574 \uC124\uC815 \uD30C\uC77C\uC744 \uBC14\uAFD4\uC8FC\uC138\uC694 (\uC608: storybook.test.ts|js \uB610\uB294 \uC720\uC0AC\uD55C \uD30C\uC77C)\uB97C storybook.test.ts|js.old\uB85C \uC774\uB984\uC744 \uBCC0\uACBD\uD558\uC2ED\uC2DC\uC624. \uC774\uB807\uAC8C \uD558\uBA74 \uD14C\uC2A4\uD2B8\uAC00 \uAC10\uC9C0\uB418\uC9C0 \uC54A\uC744 \uAC83\uC774\uBA70 \uB3D9\uC77C\uD55C \uC774\uB984\uC73C\uB85C \uC0C8\uB85C\uC6B4 \uD14C\uC2A4\uD2B8 \uAD6C\uC131 \uD30C\uC77C\uC744 \uB9CC\uB4E4 \uC218 \uC788\uC744 \uAC83\uC785\uB2C8\uB2E4. \uC774\uB97C \uD1B5\uD574 \uAE30\uC874 \uD14C\uC2A4\uD2B8\uB97C \uBCF4\uC874\uD558\uBA74\uC11C \uD504\uB85C\uC81D\uD2B8\uC5D0\uC11C Storyshots \uC560\uB4DC\uC628\uC744 \uC81C\uAC70\uD558\uAE30 \uC804\uC5D0 \uD734\uB300\uC6A9 \uC2A4\uD1A0\uB9AC\uB85C \uC804\uD658\uD560 \uC218 \uC788\uAC8C \uB429\uB2C8\uB2E4.</p><h4 id="storybook\u110B\u1166\u1109\u1165-\u1111\u1173\u1105\u1169\u110C\u1166\u11A8\u1110\u1173-\u1109\u116E\u110C\u116E\u11AB-\u110C\u116E\u1109\u1165\u11A8-\u1100\u1161\u110C\u1167\u110B\u1169\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#storybook\u110B\u1166\u1109\u1165-\u1111\u1173\u1105\u1169\u110C\u1166\u11A8\u1110\u1173-\u1109\u116E\u110C\u116E\u11AB-\u110C\u116E\u1109\u1165\u11A8-\u1100\u1161\u110C\u1167\u110B\u1169\u1100\u1175" aria-hidden="true">#</a> Storybook\uC5D0\uC11C \uD504\uB85C\uC81D\uD2B8 \uC218\uC900 \uC8FC\uC11D \uAC00\uC838\uC624\uAE30</h4><p>\uB9CC\uC57D \uD14C\uC2A4\uD2B8\uC5D0 \uD3EC\uD568\uB41C ./storybook/preview.js|ts\uC5D0\uC11C \uD504\uB85C\uC81D\uD2B8 \uC218\uC900 \uC8FC\uC11D (\uC608: \uB370\uCF54\uB808\uC774\uD130, args, \uC2A4\uD0C0\uC77C \uB4F1)\uC774 \uD544\uC694\uD558\uB2E4\uBA74, \uD14C\uC2A4\uD2B8 \uC124\uC815 \uD30C\uC77C\uC744 \uC870\uC815\uD558\uC5EC \uC8FC\uC11D\uC744 \uB2E4\uC74C\uACFC \uAC19\uC774 \uAC00\uC838\uC62C \uC218 \uC788\uC2B5\uB2C8\uB2E4:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \uC9C0\uC6D0\uB418\uB294 \uD504\uB808\uC784\uC6CC\uD06C\uB098 Storybook \uD14C\uC2A4\uD2B8 \uB77C\uC774\uBE0C\uB7EC\uB9AC (\uC608: react, testing-vue3)\uC5D0 \uB530\uB77C import\uB97C \uC870\uC815\uD569\uB2C8\uB2E4.</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> setProjectAnnotations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/your-framework&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// \uCD5C\uC2E0 \uBC84\uC804\uC758 Storybook\uC744 \uC0AC\uC6A9\uD558\uB294 \uACBD\uC6B0 Storybook \uD504\uB9AC\uBDF0 \uD30C\uC77C\uC758 \uAE30\uBCF8 export\uB85C \uC774 export\uB97C \uAD50\uCCB4\uD569\uB2C8\uB2E4.</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> projectAnnotations <span class="token keyword">from</span> <span class="token string">&#39;./.storybook/preview&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// Storybook \uD504\uB9AC\uBDF0 \uD30C\uC77C\uC5D0\uC11C \uC804\uC5ED \uC8FC\uC11D\uC744 \uC801\uC6A9\uD569\uB2C8\uB2E4.</span>
<span class="token function">setProjectAnnotations</span><span class="token punctuation">(</span>projectAnnotations<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u110B\u1175\u1109\u1175\u11A8-\u1100\u1161\u1102\u1173\u11BC\u1112\u1161\u11AB-\u1109\u1173\u1110\u1169\u1105\u1175\u1105\u1173\u11AF-\u110B\u1171\u1112\u1161\u11AB-\u1110\u1166\u1109\u1173\u1110\u1173-\u1111\u1173\u1105\u1166\u110B\u1175\u11B7\u110B\u116F\u110F\u1173-\u1100\u116E\u1109\u1165\u11BC\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#\u110B\u1175\u1109\u1175\u11A8-\u1100\u1161\u1102\u1173\u11BC\u1112\u1161\u11AB-\u1109\u1173\u1110\u1169\u1105\u1175\u1105\u1173\u11AF-\u110B\u1171\u1112\u1161\u11AB-\u1110\u1166\u1109\u1173\u1110\u1173-\u1111\u1173\u1105\u1166\u110B\u1175\u11B7\u110B\u116F\u110F\u1173-\u1100\u116E\u1109\u1165\u11BC\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> \uC774\uC2DD \uAC00\uB2A5\uD55C \uC2A4\uD1A0\uB9AC\uB97C \uC704\uD55C \uD14C\uC2A4\uD2B8 \uD504\uB808\uC784\uC6CC\uD06C \uAD6C\uC131\uD558\uAE30</h4><p>Storyshots \uC560\uB4DC\uC628\uC5D0\uC11C Storybook\uC758 composeStories \uB3C4\uC6B0\uBBF8 API\uB97C \uC0AC\uC6A9\uD55C \uC774\uC2DD \uAC00\uB2A5\uD55C \uC2A4\uD1A0\uB9AC\uB85C \uB9C8\uC774\uADF8\uB808\uC774\uC158\uD558\uB294 \uB370 \uB3C4\uC6C0\uC744 \uB4DC\uB9AC\uAE30 \uC704\uD574 \uC2DC\uC791\uD560 \uB54C \uB3C4\uC6C0\uC774 \uB418\uB294 \uC608\uC81C\uB97C \uC900\uBE44\uD588\uC2B5\uB2C8\uB2E4. \uC544\uB798\uC5D0\uB294 \uB450 \uAC00\uC9C0 \uC778\uAE30\uC788\uB294 \uD14C\uC2A4\uD2B8 \uD504\uB808\uC784\uC6CC\uD06C, Jest\uC640 Vitest\uC758 \uC608\uC81C\uAC00 \uB098\uC640 \uC788\uC2B5\uB2C8\uB2E4. \uC6B0\uB9AC\uB294 \uCF54\uB4DC\uB97C \uC0C8\uB85C \uB9CC\uB4E0 storybook.test.ts|js \uD30C\uC77C\uC5D0 \uB123\uACE0 \uD14C\uC2A4\uD2B8 \uD504\uB808\uC784\uC6CC\uD06C\uC5D0 \uB530\uB77C \uCF54\uB4DC\uB97C \uC870\uC815\uD558\uB294 \uAC83\uC744 \uAD8C\uC7A5\uD569\uB2C8\uB2E4. \uC544\uB798 \uC608\uC81C\uB294 \uBAA8\uB450 \uB2E4\uC74C\uC744 \uC218\uD589\uD560 \uAC83\uC785\uB2C8\uB2E4:</p><ul><li>\uAE00\uB85C\uBE0C \uD328\uD134\uC744 \uAE30\uBC18\uC73C\uB85C \uBAA8\uB4E0 \uC2A4\uD1A0\uB9AC \uD30C\uC77C\uC744 \uAC00\uC838\uC635\uB2C8\uB2E4.</li><li>\uC774 \uD30C\uC77C\uC744 \uBC18\uBCF5\uD558\uBA70 \uAC01 \uBAA8\uB4C8\uC5D0 composeStories\uB97C \uC0AC\uC6A9\uD558\uC5EC \uAC01 \uC2A4\uD1A0\uB9AC\uC5D0\uC11C \uB80C\uB354\uB9C1 \uAC00\uB2A5\uD55C \uCEF4\uD3EC\uB10C\uD2B8 \uBAA9\uB85D\uC744 \uC0DD\uC131\uD569\uB2C8\uB2E4.</li><li>\uC2A4\uD1A0\uB9AC\uB97C \uC21C\uD658\uD558\uBA70 \uB80C\uB354\uB9C1\uD558\uACE0 \uC2A4\uB0C5\uC0F7\uC744 \uCC0D\uC2B5\uB2C8\uB2E4.</li></ul><h4 id="vitest" tabindex="-1"><a class="header-anchor" href="#vitest" aria-hidden="true">#</a> Vitest</h4><p>\uB9CC\uC57D Vitest\uB97C \uD14C\uC2A4\uD2B8 \uD504\uB808\uC784\uC6CC\uD06C\uB85C \uC0AC\uC6A9\uD558\uACE0 \uC788\uB2E4\uBA74, \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8\uB97C Storybook\uC758 \uC774\uB3D9 \uAC00\uB2A5\uD55C \uC2A4\uD1A0\uB9AC\uB85C \uB9C8\uC774\uADF8\uB808\uC774\uC158\uD560 \uC218 \uC788\uB294 \uBC29\uBC95\uC744 composeStories helper API\uB97C \uC0AC\uC6A9\uD574 \uC54C\uC544\uBCFC \uC218 \uC788\uC5B4\uC694. \uC544\uB798 \uC608\uC2DC\uB97C \uCC38\uACE0\uD558\uC5EC storybook.test.ts|js \uD30C\uC77C\uC758 \uCF54\uB4DC\uB97C \uC218\uC815\uD574\uC57C \uD569\uB2C8\uB2E4:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// @vitest-environment jsdom</span>

<span class="token comment">// \uC9C0\uC6D0\uB418\uB294 Storybook \uD504\uB808\uC784\uC6CC\uD06C \uC911 \uD558\uB098\uB85C &#39;your-framework&#39;\uB97C \uB300\uCCB4\uD558\uC138\uC694 (react, vue3)</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Meta<span class="token punctuation">,</span> StoryFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/your-framework&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> describe<span class="token punctuation">,</span> expect<span class="token punctuation">,</span> test <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vitest&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// \uC9C0\uC6D0\uB418\uB294 \uD14C\uC2A4\uD2B8 \uB77C\uC774\uBE0C\uB7EC\uB9AC \uC911 \uD558\uB098\uB85C &#39;your-testing-library&#39;\uB97C \uB300\uCCB4\uD558\uC138\uC694 (\uC608: react, vue)</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@testing-library/your-testing-library&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// \uC0AC\uC6A9 \uAC00\uB2A5\uD55C \uD504\uB808\uC784\uC6CC\uD06C \uB610\uB294 Storybook\uC758 \uD14C\uC2A4\uD2B8 \uB77C\uC774\uBE0C\uB7EC\uB9AC\uC5D0 \uB530\uB77C import\uB97C \uC870\uC815\uD558\uC138\uC694 (\uC608: react, testing-vue3)</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> composeStories <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/your-framework&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// \uCF54\uB4DC\uB97C \uC0B4\uD3B4\uBCF4\uACE0 \uC720\uC0AC\uD55C \uC635\uC158\uC744 Storyshots\uC640 \uC7AC\uAD6C\uC131\uD574\uBCF4\uC138\uC694. \uC124\uC815\uC744 \uC544\uB798\uC5D0 \uB123\uC73C\uC138\uC694</span>
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  suite<span class="token operator">:</span> <span class="token string">&#39;Storybook Tests&#39;</span><span class="token punctuation">,</span>
  storyKindRegex<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*?DontTest$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  storyNameRegex<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">UNSET</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  snapshotsDirName<span class="token operator">:</span> <span class="token string">&#39;__snapshots__&#39;</span><span class="token punctuation">,</span>
  snapshotExtension<span class="token operator">:</span> <span class="token string">&#39;.storyshot&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>suite<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getAllStoryFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> storyFile<span class="token punctuation">,</span> componentName<span class="token punctuation">,</span> storyDir <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> meta <span class="token operator">=</span> storyFile<span class="token punctuation">.</span>default<span class="token punctuation">;</span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> meta<span class="token punctuation">.</span>title <span class="token operator">||</span> componentName<span class="token punctuation">;</span>

    <span class="token comment">// \uC774\uC804 \uCF54\uB4DC\uC640 \uAC19\uC774 \uACC4\uC18D \uC9C4\uD589</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uD14C\uC2A4\uD2B8\uAC00 Vitest\uB85C \uC2E4\uD589\uB420 \uB54C, \uD504\uB85C\uC81D\uD2B8 \uB0B4 \uBAA8\uB4E0 \uC2A4\uD1A0\uB9AC\uB97C \uD3EC\uD568\uD55C \uB2E8\uC77C \uC2A4\uB0C5\uC0F7 \uD30C\uC77C(i.e., storybook.test.ts|js.snap)\uC774 \uC0DD\uC131\uB420 \uAC70\uC608\uC694. \uADF8\uB7EC\uB098 \uAC1C\uBCC4 \uC2A4\uB0C5\uC0F7 \uD30C\uC77C\uC744 \uC0DD\uC131\uD558\uB824\uBA74 Vitest\uC758 toMatchFileSnapshot API\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC788\uC5B4\uC694. \uC544\uB798\uB294 \uC608\uC2DC\uC785\uB2C8\uB2E4:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// ...\uAC04\uB7B5\uD788 \uD558\uAE30 \uC704\uD55C \uCF54\uB4DC \uC0DD\uB7B5</span>

<span class="token function">describe</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>suite<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getAllStoryFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filePath<span class="token punctuation">,</span> storyFile<span class="token punctuation">,</span> storyDir <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...\uC774\uC804\uC5D0 \uC788\uB358 \uCF54\uB4DC\uB4E4</span>
    <span class="token function">describe</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...\uC774\uC804\uC5D0 \uC788\uB358 \uCF54\uB4DC\uB4E4</span>
      stories<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> story <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...\uC774\uC804\uC5D0 \uC788\uB358 \uCF54\uB4DC\uB4E4</span>
        <span class="token function">testFn</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// ...\uC774\uC804\uC5D0 \uC788\uB358 \uCF54\uB4DC\uB4E4</span>

          <span class="token comment">// \uC2A4\uB0C5\uC0F7\uC744 \uC800\uC7A5\uD560 \uACBD\uB85C\uB97C \uC815\uC758\uD574\uC694</span>
          <span class="token keyword">const</span> snapshotPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
            storyDir<span class="token punctuation">,</span>
            options<span class="token punctuation">.</span>snapshotsDirName<span class="token punctuation">,</span>
            <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>componentName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>options<span class="token punctuation">.</span>snapshotExtension<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">expect</span><span class="token punctuation">(</span>mounted<span class="token punctuation">.</span>container<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchFileSnapshot</span><span class="token punctuation">(</span>snapshotPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="jest" tabindex="-1"><a class="header-anchor" href="#jest" aria-hidden="true">#</a> Jest</h4><p>\uB9CC\uC57D Jest\uB97C \uD14C\uC2A4\uD2B8 \uD504\uB808\uC784\uC6CC\uD06C\uB85C \uC0AC\uC6A9\uD558\uACE0 \uC788\uB2E4\uBA74, \uC544\uB798 \uC608\uC2DC\uB97C \uCC38\uACE0\uD558\uC5EC Storybook\uC758 \uC774\uB3D9\uC131 \uC788\uB294 \uCF54\uB529 \uC608\uC2DC\uB85C \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8\uB97C \uB9C8\uC774\uADF8\uB808\uC774\uC158\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uCF54\uB4DC\uB97C \uC218\uC815\uD574\uC57C \uD560 \uD30C\uC77C\uC740 storybook.test.ts|js \uD30C\uC77C\uC785\uB2C8\uB2E4:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> glob <span class="token keyword">from</span> <span class="token string">&#39;glob&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// \uC9C0\uC6D0\uD558\uB294 Storybook \uD504\uB808\uC784\uC6CC\uD06C \uC911 \uD558\uB098\uB85C &#39;your-framework&#39;\uC744 \uAD50\uCCB4\uD558\uC138\uC694 (react, vue3)</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Meta<span class="token punctuation">,</span> StoryFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/your-framework&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> describe<span class="token punctuation">,</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@jest/globals&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// \uC9C0\uC6D0\uD558\uB294 \uD14C\uC2A4\uD305 \uB77C\uC774\uBE0C\uB7EC\uB9AC \uC911 \uD558\uB098\uB85C &#39;your-testing-library&#39;\uB97C \uAD50\uCCB4\uD558\uC138\uC694 (\uC608: react, vue)</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@testing-library/your-testing-library&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// \uC9C0\uC6D0\uD558\uB294 \uD504\uB808\uC784\uC6CC\uD06C\uB098 Storybook\uC758 \uD14C\uC2A4\uD305 \uB77C\uC774\uBE0C\uB7EC\uB9AC\uC5D0 \uB9DE\uAC8C \uC784\uD3EC\uD2B8\uB97C \uC870\uC815\uD558\uC138\uC694 (\uC608: react, testing-vue3)</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> composeStories <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/your-framework&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">StoryFile</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">default</span><span class="token operator">:</span> Meta<span class="token punctuation">;</span>
  <span class="token punctuation">[</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> StoryFn <span class="token operator">|</span> Meta<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> compose <span class="token operator">=</span> <span class="token punctuation">(</span>entry<span class="token operator">:</span> StoryFile<span class="token punctuation">)</span><span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> composeStories<span class="token operator">&lt;</span>StoryFile<span class="token operator">&gt;&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">composeStories</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">There was an issue composing stories for the module: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>e<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getAllStoryFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \uC2A4\uD1A0\uB9AC \uD30C\uC77C \uB9E4\uCE6D\uC744 \uC704\uD574 \uC77C\uCE58\uD574\uC57C \uD558\uB294 glob\uC744 \uC124\uC815\uD558\uC138\uC694</span>
  <span class="token keyword">const</span> storyFiles <span class="token operator">=</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span>
    path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;stories/**/*.{stories,story}.{js,jsx,mjs,ts,tsx}&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> storyFiles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> storyFile <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> filePath<span class="token punctuation">,</span> storyFile <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Storyshots\uC640 \uC720\uC0AC\uD55C \uC635\uC158\uC744 \uB2E4\uC2DC \uC0DD\uC131\uD558\uC138\uC694. \uC544\uB798\uC5D0 \uAD6C\uC131\uC744 \uBC30\uCE58\uD558\uC138\uC694</span>
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  suite<span class="token operator">:</span> <span class="token string">&#39;Storybook Tests&#39;</span><span class="token punctuation">,</span>
  storyKindRegex<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*?DontTest$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  storyNameRegex<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">UNSET</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  snapshotsDirName<span class="token operator">:</span> <span class="token string">&#39;__snapshots__&#39;</span><span class="token punctuation">,</span>
  snapshotExtension<span class="token operator">:</span> <span class="token string">&#39;.storyshot&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>suite<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getAllStoryFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> storyFile<span class="token punctuation">,</span> componentName <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> meta <span class="token operator">=</span> storyFile<span class="token punctuation">.</span>default<span class="token punctuation">;</span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> meta<span class="token punctuation">.</span>title <span class="token operator">||</span> componentName<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>storyKindRegex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token operator">||</span> meta<span class="token punctuation">.</span>parameters<span class="token operator">?.</span>storyshots<span class="token operator">?.</span>disable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \uBE44\uD65C\uC131\uD654\uB41C \uACBD\uC6B0 \uCEF4\uD3EC\uB10C\uD2B8 \uD14C\uC2A4\uD2B8\uB97C \uAC74\uB108\uB701\uB2C8\uB2E4</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">describe</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> stories <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token function">compose</span><span class="token punctuation">(</span>storyFile<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>name<span class="token punctuation">,</span> story<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> story <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> story <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// \uB9E4\uAC1C\uBCC0\uC218\uB97C \uD1B5\uD574 \uBE44\uD65C\uC131\uD654\uB418\uAC70\uB098 \uD2B9\uC815 \uC815\uADDC\uC2DD\uACFC \uC77C\uCE58\uD558\uB294 \uC2A4\uD1A0\uB9AC\uB97C \uC2E4\uD589\uD558\uC9C0 \uC54A\uB3C4\uB85D \uD544\uD130\uB9C1 \uBA54\uCEE4\uB2C8\uC998\uC744 \uAD6C\uD604\uD569\uB2C8\uB2E4.</span>
          <span class="token keyword">return</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>storyNameRegex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>story<span class="token punctuation">.</span>parameters<span class="token punctuation">.</span>storyshots<span class="token operator">?.</span>disable<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>stories<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
          <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">No stories found for this module: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">. Make sure there is at least one valid story for this module, without a disable parameter, or add parameters.storyshots.disable in the default export of this file.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      stories<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> story <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// \uD14C\uC2A4\uD2B8\uB97C \uC2E4\uD589\uD558\uC9C0 \uC54A\uB294 \uB300\uC2E0, \uACB0\uACFC\uC5D0 \uD574\uB2F9\uD558\uB294 \uB0B4\uC6A9\uC744 \uD45C\uC2DC\uD560 \uB85C\uC9C1\uC744 \uB9CC\uB4E4\uC5B4 \uD50C\uB798\uADF8\uB97C \uC9C0\uC815\uD569\uB2C8\uB2E4</span>
        <span class="token keyword">const</span> testFn <span class="token operator">=</span> story<span class="token punctuation">.</span>parameters<span class="token punctuation">.</span>storyshots<span class="token operator">?.</span>skip <span class="token operator">?</span> test<span class="token punctuation">.</span>skip <span class="token operator">:</span> test<span class="token punctuation">;</span>

        <span class="token function">testFn</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> mounted <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token function">story</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// \uCEF4\uD3EC\uB10C\uD2B8\uB97C \uB80C\uB354\uB9C1\uD560 \uC218 \uC788\uB3C4\uB85D \uC77C\uC815\uD55C \uC2A4\uB0C5\uC0F7\uC744 \uBCF4\uC7A5\uD558\uAE30 \uC704\uD574 \uCEF4\uD3EC\uB10C\uD2B8\uAC00 \uB80C\uB354\uB9C1\uB418\uAE30\uAE4C\uC9C0 1ms\uC758 \uC9C0\uC5F0\uC744 \uCD94\uAC00\uD569\uB2C8\uB2E4</span>
          <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">expect</span><span class="token punctuation">(</span>mounted<span class="token punctuation">.</span>container<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jest\uB85C \uD14C\uC2A4\uD2B8\uB97C \uC2E4\uD589\uD558\uBA74 \uD504\uB85C\uC81D\uD2B8\uC5D0 \uC788\uB294 \uBAA8\uB4E0 \uC2A4\uD1A0\uB9AC\uB97C \uD558\uB098\uC758 \uC2A4\uB0C5\uC0F7 \uD30C\uC77C (\uC608: <strong>snapshots</strong>/storybook.test.ts|js.snap)\uB85C \uC0DD\uC131\uD569\uB2C8\uB2E4. \uD558\uC9C0\uB9CC \uAC1C\uBCC4 \uC2A4\uB0C5\uC0F7 \uD30C\uC77C\uC744 \uC0DD\uC131\uD558\uB824\uBA74 jest-specific-snapshot \uD328\uD0A4\uC9C0\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC544\uB798 \uC608\uC2DC\uB97C \uCC38\uACE0\uD558\uC138\uC694:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u{1F447} jest-specific-snapshot\uC744 \uC0AC\uC6A9\uD558\uC5EC expect\uC744 \uD655\uC7A5\uD569\uB2C8\uB2E4.</span>
<span class="token keyword">import</span> <span class="token string">&#39;jest-specific-snapshot&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// ...\uCF54\uB4DC\uB294 \uAC04\uB7B5\uD558\uAC8C \uC0DD\uB7B5\uD569\uB2C8\uB2E4.</span>

<span class="token function">describe</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>suite<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//\u{1F447} arguments \uB9AC\uC2A4\uD2B8\uC5D0 storyDir\uB97C \uCD94\uAC00\uD569\uB2C8\uB2E4.</span>
  <span class="token function">getAllStoryFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filePath<span class="token punctuation">,</span> storyFile<span class="token punctuation">,</span> storyDir <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...\uC774\uC804\uC5D0 \uC874\uC7AC\uD588\uB358 \uCF54\uB4DC</span>
    <span class="token function">describe</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...\uC774\uC804\uC5D0 \uC874\uC7AC\uD588\uB358 \uCF54\uB4DC</span>
      stories<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> story <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...\uC774\uC804\uC5D0 \uC874\uC7AC\uD588\uB358 \uCF54\uB4DC</span>
        <span class="token function">testFn</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// ...\uC774\uC804\uC5D0 \uC874\uC7AC\uD588\uB358 \uCF54\uB4DC</span>

          <span class="token comment">//\u{1F447} \uC2A4\uB0C5\uC0F7\uC744 \uC800\uC7A5\uD560 \uACBD\uB85C\uB97C \uC815\uC758\uD569\uB2C8\uB2E4:</span>
          <span class="token keyword">const</span> snapshotPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
            storyDir<span class="token punctuation">,</span>
            options<span class="token punctuation">.</span>snapshotsDirName<span class="token punctuation">,</span>
            <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>componentName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>options<span class="token punctuation">.</span>snapshotExtension<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">expect</span><span class="token punctuation">(</span>mounted<span class="token punctuation">.</span>container<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSpecificSnapshot</span><span class="token punctuation">(</span>snapshotPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u110B\u1161\u11AF\u1105\u1167\u110C\u1175\u11AB-\u110C\u1166\u1112\u1161\u11AB-\u1109\u1161\u1112\u1161\u11BC" tabindex="-1"><a class="header-anchor" href="#\u110B\u1161\u11AF\u1105\u1167\u110C\u1175\u11AB-\u110C\u1166\u1112\u1161\u11AB-\u1109\u1161\u1112\u1161\u11BC" aria-hidden="true">#</a> \uC54C\uB824\uC9C4 \uC81C\uD55C \uC0AC\uD56D</h4><p>\uD14C\uC2A4\uD2B8\uC5D0\uC11C \uC774\uB3D9 \uAC00\uB2A5\uD55C story\uB97C \uC0AC\uC6A9\uD558\uB294 \uACBD\uC6B0 JSDOM \uD658\uACBD\uC5D0\uC11C \uC2E4\uD589\uB418\uB294 \uB2E8\uC77C \uD14C\uC2A4\uD2B8 \uD30C\uC77C\uC774 \uC788\uC2B5\uB2C8\uB2E4. \uBAA8\uB4E0 story\uB97C \uB80C\uB354\uB9C1\uD558\uACE0 \uC2A4\uB0C5\uC0F7\uC744 \uCC0D\uC2B5\uB2C8\uB2E4. \uADF8\uB7EC\uB098 \uD504\uB85C\uC81D\uD2B8\uAC00 \uCEE4\uC9C0\uBA74 \uC774\uC804 Storyshots\uC5D0\uC11C \uACAA\uC5C8\uB358 \uC81C\uD55C \uC0AC\uD56D\uC744 \uB9C8\uC8FC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4:</p><ul><li>\uC2E4\uC81C \uBE0C\uB77C\uC6B0\uC800\uB97C \uB300\uC0C1\uC73C\uB85C \uD14C\uC2A4\uD2B8\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.</li><li>\uB9CE\uC740 \uBE0C\uB77C\uC6B0\uC800 \uC720\uD2F8\uB9AC\uD2F0\uB97C \uBAA8\uC758\uD574\uC57C \uD569\uB2C8\uB2E4 (\uC608: \uCE94\uBC84\uC2A4, \uCC3D API \uB4F1).</li><li>\uBE0C\uB77C\uC6B0\uC800\uC5D0 \uD14C\uC2A4\uD2B8\uC758 \uC77C\uBD80\uB85C \uC561\uC138\uC2A4\uD560 \uC218 \uC5C6\uC73C\uBBC0\uB85C \uB514\uBC84\uAE45 \uACBD\uD5D8\uC774 \uC88B\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.\`\`\`</li></ul><p>\uB2E4\uB978 \uC0AC\uC6A9 \uAC00\uB2A5\uD55C \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8 \uC635\uC158\uC73C\uB85C Storybook\uC5D0 \uB300\uD55C \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB97C \uB9C8\uC774\uADF8\uB808\uC774\uC158\uD558\uB294 \uAC83\uC744 \uACE0\uB824\uD574 \uBCFC \uC218\uB3C4 \uC788\uC2B5\uB2C8\uB2E4: Playwright\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC2E4\uC81C \uBE0C\uB77C\uC6B0\uC800 \uD658\uACBD\uC5D0\uC11C \uD14C\uC2A4\uD2B8\uB97C \uC2E4\uD589\uD558\uBA70 \uB354 \uACAC\uACE0\uD55C \uC194\uB8E8\uC158\uC744 \uC81C\uACF5\uD569\uB2C8\uB2E4.</p><h2 id="\u1106\u116E\u11AB\u110C\u1166-\u1112\u1162\u1100\u1167\u11AF" tabindex="-1"><a class="header-anchor" href="#\u1106\u116E\u11AB\u110C\u1166-\u1112\u1162\u1100\u1167\u11AF" aria-hidden="true">#</a> \uBB38\uC81C \uD574\uACB0</h2><p>Storybook \uBC0F \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8\uB97C \uC2E4\uD589\uD558\uB294 \uAC83\uC740 \uC124\uC815\uC774\uB098 \uD14C\uC2A4\uD2B8\uB97C \uC131\uACF5\uC801\uC73C\uB85C \uC2E4\uD589\uB418\uC9C0 \uBABB\uD558\uB3C4\uB85D \uBC29\uD574\uD558\uB294 \uAE30\uC220\uC801 \uC81C\uC57D \uC0AC\uD56D\uC73C\uB85C \uC774\uC5B4\uC9C8 \uC218 \uC788\uC73C\uBBC0\uB85C \uBC1C\uC0DD\uD560 \uC218 \uC788\uB294 \uBB38\uC81C\uB97C \uD574\uACB0\uD560 \uC218 \uC788\uB3C4\uB85D \uC548\uB0B4\uD558\uB294 \uC77C\uB828\uC758 \uC9C0\uCE68\uC744 \uC900\uBE44\uD588\uC2B5\uB2C8\uB2E4.</p><h3 id="\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u11AB\u110B\u1175-\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1110\u1166\u1109\u1173\u1110\u1173\u1105\u1173\u11AF-\u1109\u1175\u11AF\u1112\u1162\u11BC\u1112\u1161\u11AF-\u1104\u1162-\u110B\u1169\u1105\u1172\u1105\u1173\u11AF-\u1107\u1169\u1100\u1169\u1112\u1161\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" tabindex="-1"><a class="header-anchor" href="#\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u11AB\u110B\u1175-\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1110\u1166\u1109\u1173\u1110\u1173\u1105\u1173\u11AF-\u1109\u1175\u11AF\u1112\u1162\u11BC\u1112\u1161\u11AF-\u1104\u1162-\u110B\u1169\u1105\u1172\u1105\u1173\u11AF-\u1107\u1169\u1100\u1169\u1112\u1161\u1102\u1173\u11AB-\u1100\u1167\u11BC\u110B\u116E" aria-hidden="true">#</a> \uD14C\uC2A4\uD2B8 \uB7EC\uB10C\uC774 \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8\uB97C \uC2E4\uD589\uD560 \uB54C \uC624\uB958\uB97C \uBCF4\uACE0\uD558\uB294 \uACBD\uC6B0</h3><p>\uB9CC\uC57D \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB85C \uAC04\uD5D0\uC801\uC778 \uD14C\uC2A4\uD2B8 \uC2E4\uD328\uB97C \uACAA\uACE0 \uC788\uB2E4\uBA74, \uD14C\uC2A4\uD2B8\uAC00 \uBE0C\uB77C\uC6B0\uC800\uC5D0\uC11C \uC2E4\uD589\uB420 \uB54C \uBC1C\uC0DD\uD558\uB294 uncaught \uC624\uB958\uAC00 \uC788\uC744 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC774\uB7EC\uD55C \uC624\uB958\uB294 \uC774\uC804\uC5D0 Storyshots \uC560\uB4DC\uC628\uC744 \uC0AC\uC6A9\uD588\uC5C8\uB2E4\uBA74 \uC7A1\uD788\uC9C0 \uC54A\uC558\uC744 \uC218\uB3C4 \uC788\uC2B5\uB2C8\uB2E4. \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB294 \uAE30\uBCF8\uC801\uC73C\uB85C \uC774\uB7EC\uD55C uncaught \uC624\uB958\uB97C \uC2E4\uD328\uD55C \uD14C\uC2A4\uD2B8\uB85C \uAC04\uC8FC\uD569\uB2C8\uB2E4. \uADF8\uB7EC\uB098 \uC774\uB7EC\uD55C \uC624\uB958\uAC00 \uC608\uC0C1\uB300\uB85C \uBC1C\uC0DD\uD55C\uB2E4\uBA74, \uC2A4\uD1A0\uB9AC\uC640 \uD14C\uC2A4\uD2B8 \uB7EC\uB108 \uAD6C\uC131 \uD30C\uC77C\uC5D0\uC11C \uC0AC\uC6A9\uC790 \uC9C0\uC815 \uC2A4\uD1A0\uB9AC \uD0DC\uADF8\uB97C \uD65C\uC131\uD654\uD574\uC11C \uBB34\uC2DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uB354 \uC790\uC138\uD55C \uC815\uBCF4\uB294 \uD14C\uC2A4\uD2B8 \uB7EC\uB108 \uBB38\uC11C\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694.</p><h3 id="\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u1100\u1161-\u110B\u1168\u1109\u1161\u11BC-\u1103\u1175\u1105\u1166\u11A8\u1110\u1169\u1105\u1175\u110B\u1166-\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1111\u1161\u110B\u1175\u11AF\u110B\u1173\u11AF-\u1109\u1162\u11BC\u1109\u1165\u11BC\u1112\u1161\u110C\u1175-\u110B\u1161\u11AD\u110B\u1173\u11B7" tabindex="-1"><a class="header-anchor" href="#\u1110\u1166\u1109\u1173\u1110\u1173-\u1105\u1165\u1102\u1165\u1100\u1161-\u110B\u1168\u1109\u1161\u11BC-\u1103\u1175\u1105\u1166\u11A8\u1110\u1169\u1105\u1175\u110B\u1166-\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1111\u1161\u110B\u1175\u11AF\u110B\u1173\u11AF-\u1109\u1162\u11BC\u1109\u1165\u11BC\u1112\u1161\u110C\u1175-\u110B\u1161\u11AD\u110B\u1173\u11B7" aria-hidden="true">#</a> \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uAC00 \uC608\uC0C1 \uB514\uB809\uD1A0\uB9AC\uC5D0 \uC2A4\uB0C5\uC0F7 \uD30C\uC77C\uC744 \uC0DD\uC131\uD558\uC9C0 \uC54A\uC74C</h3><p>\uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB97C \uC2A4\uB0C5\uC0F7 \uD14C\uC2A4\uD2B8\uB97C \uC2E4\uD589\uD558\uB3C4\uB85D \uAD6C\uC131\uD588\uB2E4\uBA74, \uC774\uC804\uC5D0 Storyshots \uC560\uB4DC\uC628\uC774 \uC0DD\uC131\uD588\uB358 \uC2A4\uB0C5\uC0F7 \uD30C\uC77C\uC758 \uACBD\uB85C\uC640 \uC774\uB984\uC774 \uB2E4\uB978 \uAC83\uC744 \uC54C \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC774\uB294 \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uAC00 \uC2A4\uB0C5\uC0F7 \uD30C\uC77C\uC5D0 \uB300\uD574 \uB2E4\uB978 \uBA85\uBA85 \uADDC\uCE59\uC744 \uC0AC\uC6A9\uD558\uAE30 \uB54C\uBB38\uC785\uB2C8\uB2E4. \uC0AC\uC6A9\uC790 \uC9C0\uC815 \uC2A4\uB0C5\uC0F7 \uB9AC\uC878\uBC84\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC774\uC804\uC5D0 \uC0AC\uC6A9\uD558\uB358 \uBA85\uBA85 \uADDC\uCE59\uACFC \uB3D9\uC77C\uD558\uAC8C \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB97C \uAD6C\uC131\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><p>\uB2E4\uC74C \uBA85\uB839\uC744 \uC2E4\uD589\uD558\uC5EC Jest\uB97C \uAD6C\uC131\uD558\uB294 \uB370 \uC0AC\uC6A9\uD560 \uC218 \uC788\uB294 \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uC6A9 \uC0AC\uC6A9\uC790 \uC815\uC758 \uAD6C\uC131 \uD30C\uC77C\uC744 \uC0DD\uC131\uD558\uC138\uC694:</p><div class="language-npm ext-npm line-numbers-mode"><pre class="language-npm"><code>npm run test-storybook -- --eject
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uD30C\uC77C\uC744 \uC5C5\uB370\uC774\uD2B8\uD558\uACE0 \uC0AC\uC6A9\uC790 \uC815\uC758 \uC2A4\uB0C5\uC0F7 \uB9AC\uC878\uBC84\uB97C \uC0AC\uC6A9\uD558\uB824\uBA74 snapshotResolver \uC635\uC158\uC744 \uD65C\uC131\uD654\uD558\uC138\uC694:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getJestConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/test-runner&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> defaultConfig <span class="token operator">=</span> <span class="token function">getJestConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// \uAE30\uBCF8 Jest \uAD6C\uC131\uC740 @storybook/test-runner\uC5D0\uC11C \uC81C\uACF5\uB429\uB2C8\uB2E4</span>
  <span class="token operator">...</span>defaultConfig<span class="token punctuation">,</span>
  snapshotResolver<span class="token operator">:</span> <span class="token string">&#39;./snapshot-resolver.js&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> config<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uB9C8\uC9C0\uB9C9\uC73C\uB85C, \uC0AC\uC6A9\uC790 \uC815\uC758 \uC2A4\uB0C5\uC0F7 \uB9AC\uC878\uBC84\uB97C \uAD6C\uD604\uD558\uAE30 \uC704\uD574 snapshot-resolver.js \uD30C\uC77C\uC744 \uC0DD\uC131\uD558\uC138\uC694.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">resolveSnapshotPath</span><span class="token operator">:</span> <span class="token punctuation">(</span>testPath<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> fileName <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>testPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> fileNameWithoutExtension <span class="token operator">=</span> fileName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.[^/.]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> modifiedFileName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>fileNameWithoutExtension<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.storyshot</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>

    <span class="token comment">// Configure Jest to generate snapshot files using the following naming convention (__snapshots__/Button.storyshot)</span>
    <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>testPath<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;__snapshots__&#39;</span><span class="token punctuation">,</span> modifiedFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">resolveTestPath</span><span class="token operator">:</span> <span class="token punctuation">(</span>snapshotFilePath<span class="token punctuation">,</span> snapshotExtension<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>snapshotFilePath<span class="token punctuation">,</span> snapshotExtension<span class="token punctuation">)</span><span class="token punctuation">,</span>
  testPathForConsistencyCheck<span class="token operator">:</span> <span class="token string">&#39;example.storyshot&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1111\u1161\u110B\u1175\u11AF\u110B\u1174-\u1112\u1167\u11BC\u1109\u1175\u11A8\u110B\u1175-\u1109\u1173\u1110\u1169\u1105\u1175\u1109\u1163\u11BA-\u110B\u1162\u1103\u1173\u110B\u1169\u11AB\u110B\u1166\u1109\u1165-\u1109\u1162\u11BC\u1109\u1165\u11BC\u1103\u116C\u11AB-\u1100\u1165\u11BA\u1100\u116A-\u1103\u1161\u1105\u1173\u11B8\u1102\u1175\u1103\u1161" tabindex="-1"><a class="header-anchor" href="#\u1109\u1173\u1102\u1162\u11B8\u1109\u1163\u11BA-\u1111\u1161\u110B\u1175\u11AF\u110B\u1174-\u1112\u1167\u11BC\u1109\u1175\u11A8\u110B\u1175-\u1109\u1173\u1110\u1169\u1105\u1175\u1109\u1163\u11BA-\u110B\u1162\u1103\u1173\u110B\u1169\u11AB\u110B\u1166\u1109\u1165-\u1109\u1162\u11BC\u1109\u1165\u11BC\u1103\u116C\u11AB-\u1100\u1165\u11BA\u1100\u116A-\u1103\u1161\u1105\u1173\u11B8\u1102\u1175\u1103\u1161" aria-hidden="true">#</a> \uC2A4\uB0C5\uC0F7 \uD30C\uC77C\uC758 \uD615\uC2DD\uC774 \uC2A4\uD1A0\uB9AC\uC0F7 \uC560\uB4DC\uC628\uC5D0\uC11C \uC0DD\uC131\uB41C \uAC83\uACFC \uB2E4\uB985\uB2C8\uB2E4.</h3><p>\uAE30\uBCF8\uC801\uC73C\uB85C \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB294 jest-serializer-html\uC744 \uC0AC\uC6A9\uD558\uC5EC HTML \uC2A4\uB0C5\uC0F7\uC744 \uC9C1\uB82C\uD654\uD569\uB2C8\uB2E4. \uC774\uB294 \uD2B9\uC815 CSS-in-JS \uB77C\uC774\uBE0C\uB7EC\uB9AC(Emotion, Angular\uC758 ng \uC18D\uC131 \uB4F1)\uB97C \uC0AC\uC6A9\uD558\uB354\uB77C\uB3C4 \uAE30\uC874 \uC2A4\uB0C5\uC0F7\uACFC \uBE44\uAD50\uD588\uC744 \uB54C \uC11C\uC2DD\uC774 \uB2E4\uB97C \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uADF8\uB7EC\uB098 \uAC01 \uD14C\uC2A4\uD2B8 \uC2E4\uD589 \uC2DC \uB79C\uB364\uD55C \uD074\uB798\uC2A4 \uC774\uB984\uC744 \uC77C\uAD00\uB41C \uD074\uB798\uC2A4 \uC774\uB984\uC73C\uB85C \uBCC0\uACBD\uD558\uC5EC \uBB38\uC81C\uB97C \uD574\uACB0\uD558\uAE30 \uC704\uD574 \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uB97C \uC0AC\uC6A9\uC790 \uC9C0\uC815 \uC2A4\uB0C5\uC0F7 \uC9C1\uB82C\uD654 \uD504\uB85C\uADF8\uB7A8\uC744 \uAD6C\uC131\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><p>\uB2E4\uC74C \uBA85\uB839\uC744 \uC2E4\uD589\uD558\uC5EC \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uC6A9 \uC0AC\uC6A9\uC790 \uC9C0\uC815 \uAD6C\uC131 \uD30C\uC77C\uC744 \uC0DD\uC131\uD558\uACE0 \uCD94\uAC00 \uAD6C\uC131 \uC635\uC158\uC744 \uC81C\uACF5\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-npm ext-npm line-numbers-mode"><pre class="language-npm"><code>npm run test-storybook -- --eject
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\uD30C\uC77C\uC744 \uC5C5\uB370\uC774\uD2B8\uD558\uACE0 custom snapshot resolver\uB97C \uC0AC\uC6A9\uD558\uB3C4\uB85D snapshotSerializers \uC635\uC158\uC744 \uD65C\uC131\uD654\uD569\uB2C8\uB2E4. \uC608\uB97C \uB4E4\uC5B4:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getJestConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@storybook/test-runner&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> defaultConfig <span class="token operator">=</span> <span class="token function">getJestConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>defaultConfig<span class="token punctuation">,</span>
  snapshotSerializers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// HTML\uC744 \uD14C\uC2A4\uD2B8 \uB7EC\uB108\uC5D0 \uC804\uB2EC\uD558\uAE30 \uC804\uC5D0 \uC804\uCC98\uB9AC\uD558\uB294 \uCEE4\uC2A4\uD140 serializer\uB97C \uC124\uC815\uD569\uB2C8\uB2E4</span>
    <span class="token string">&#39;./snapshot-serializer.js&#39;</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>defaultConfig<span class="token punctuation">.</span>snapshotSerializers<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> config<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uB9C8\uC9C0\uB9C9\uC73C\uB85C custom snapshot serializer\uB97C \uAD6C\uD604\uD558\uB824\uBA74 snapshot-serializer.js \uD30C\uC77C\uC744 \uC0DD\uC131\uD558\uC138\uC694:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// The jest-serializer-html package\uC740 test runner\uC758 \uC885\uC18D\uC131\uC73C\uB85C \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</span>
<span class="token keyword">const</span> jestSerializerHtml <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;jest-serializer-html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">DYNAMIC_ID_PATTERN</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&quot;react-aria-\\d+(\\.\\d+)?&quot;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/*
   * \uD14C\uC2A4\uD2B8 \uC2E4\uD589\uAE30\uB294 \uD14C\uC2A4\uD2B8\uAC00 expect(SomeHTMLElement).toMatchSnapshot()\uC5D0 \uB3C4\uB2EC\uD560 \uB54C serialize \uD568\uC218\uB97C \uD638\uCD9C\uD569\uB2C8\uB2E4.
   * \uBAA8\uB4E0 \uB3D9\uC801 ID\uB97C \uC815\uC801 ID\uB85C \uB300\uCCB4\uD558\uC5EC \uC2A4\uB0C5\uC0F7\uC774 \uC77C\uAD00\uC131 \uC788\uAC8C \uC720\uC9C0\uB418\uB3C4\uB85D \uD569\uB2C8\uB2E4.
   * \uC608\uB97C \uB4E4\uC5B4 &lt;label id=&quot;react-aria970235672-:rl:&quot; for=&quot;react-aria970235672-:rk:&quot;&gt;Favorite color&lt;/label&gt;\uC5D0\uC11C &lt;label id=&quot;react-mocked_id&quot; for=&quot;react-mocked_id&quot;&gt;Favorite color&lt;/label&gt;\uB85C \uBCC0\uACBD\uB429\uB2C8\uB2E4.
   */</span>
  <span class="token function">serialize</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> withFixedIds <span class="token operator">=</span> val<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token constant">DYNAMIC_ID_PATTERN</span><span class="token punctuation">,</span> <span class="token string">&#39;mocked_id&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> jestSerializerHtml<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>withFixedIds<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">test</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> jestSerializerHtml<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uD14C\uC2A4\uD2B8 \uC2E4\uD589\uAE30\uAC00 \uD14C\uC2A4\uD2B8\uB97C \uC2E4\uD589\uD558\uBA74 \uACB0\uACFC HTML\uC744 \uAC80\uD1A0\uD558\uC5EC \uC2A4\uB0C5\uC0F7\uC744 \uB9CC\uB4E4\uAE30 \uC804\uC5D0 \uC815\uC801 \uD45C\uD604\uC2DD\uC774 \uC81C\uACF5\uD558\uB294 \uC815\uC801 \uC18D\uC131\uC73C\uB85C \uB3D9\uC801\uC73C\uB85C \uC0DD\uC131\uB41C \uC18D\uC131\uC744 \uAD50\uCCB4\uD569\uB2C8\uB2E4.</p>`,62),o=[e];function c(i,l){return s(),a("div",null,o)}var b=n(p,[["render",c],["__file","index.html.vue"]]);export{b as default};
