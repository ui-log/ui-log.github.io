import{_ as l}from"./app.3052dcfb.js";import{l as a,m as c,E as t,G as e,p as s,Y as p,C as n,K as o}from"./@vue.46e0ff50.js";import"./ts-debounce.471e9b22.js";import"./vue-router.66b7519d.js";import"./medium-zoom.0cdb07e4.js";import"./@vueuse.f471c5d7.js";var i="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_0.45465505.png",u="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_1.b55ecd7c.png",r="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_2.9f9c2c6f.png",d="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_3.bb0a1b6d.png",k="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_4.0312129f.png",v="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_5.a85e0f1e.png",m="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_6.9f74be3b.png",b="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_7.a6d03f09.png",g="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_8.dfce9bf3.png",_="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_9.c2f0d98d.png",h="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_12.5ed67104.png",y="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_13.cbfb1b32.png",f="/assets/UploadfilestoAWSs3bucketfromReactusingPre-signedUrls_14.58b60627.png";const w={},U=n("p",null,[n("img",{src:i,alt:"image"})],-1),P=n("h1",{id:"\u1109\u1169\u1100\u1162",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u1109\u1169\u1100\u1162","aria-hidden":"true"},"#"),s(" \uC18C\uAC1C")],-1),A=n("p",null,"AWS S3 \uBC84\uD0B7\uC73C\uB85C \uD30C\uC77C\uC744 \uC5C5\uB85C\uB4DC\uD560 \uB54C\uB294 \uD56D\uC0C1 \uBCF4\uC548\uC744 \uACE0\uB824\uD574\uC57C \uD569\uB2C8\uB2E4. AWS SDK\uB97C \uC0AC\uC6A9\uD558\uC5EC \uBC84\uD0B7\uC5D0 \uC9C1\uC811 \uC5C5\uB85C\uB4DC\uD558\uB294 \uAC83\uC774 \uC77C\uBC18\uC801\uC778 \uBC29\uBC95\uC774\uC9C0\uB9CC \uB54C\uB85C\uB294 \uBCF4\uC548 \uC704\uD5D8\uC744 \uAC00\uC838\uC62C \uC218 \uC788\uC73C\uBA70 \uCF54\uB4DC\uC5D0\uC11C AWS \uC790\uACA9 \uC99D\uBA85\uC744 \uB178\uCD9C\uC2DC\uD0AC \uC218\uB3C4 \uC788\uC2B5\uB2C8\uB2E4. \uC774 \uAC00\uC774\uB4DC\uC5D0\uC11C\uB294 React \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC5D0\uC11C \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uC0AC\uC6A9\uD558\uC5EC S3 \uBC84\uD0B7\uC73C\uB85C \uD30C\uC77C\uC744 \uC5C5\uB85C\uB4DC\uD558\uB294 \uB354 \uC548\uC804\uD55C \uBC29\uBC95\uC744 \uC0B4\uD3B4\uBCF4\uACA0\uC2B5\uB2C8\uB2E4.",-1),S=n("p",null,"React \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC5D0\uC11C AWS S3 \uBC84\uD0B7\uC73C\uB85C \uD30C\uC77C\uC744 \uC5C5\uB85C\uB4DC\uD558\uAE30 \uC704\uD574 \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uC0AC\uC6A9\uD558\uB294 \uAC83\uC740 \uBCF4\uC548, \uD655\uC7A5\uC131 \uBC0F \uC131\uB2A5\uC744 \uD5A5\uC0C1\uC2DC\uD0B5\uB2C8\uB2E4. \uC11C\uBC84 \uBD80\uD558\uC640 \uBE44\uC6A9\uC744 \uC904\uC774\uB294 \uC81C\uD55C\uB41C \uC561\uC138\uC2A4 \uAD8C\uD55C \uBC0F \uD2B9\uC815 \uB9CC\uB8CC \uC2DC\uAC04\uC73C\uB85C \uC9C1\uC811 \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uAC8C \uD574\uC8FC\uBA70, \uC0AC\uC6A9\uC790 \uACBD\uD5D8\uC744 \uAC1C\uC120\uD558\uACE0 \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uB0B4\uC5D0\uC11C \uD30C\uC77C \uC5C5\uB85C\uB4DC\uB97C \uC720\uC5F0\uD558\uAC8C \uCC98\uB9AC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",-1),R=n("p",null,[n("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4877378276818686","data-ad-slot":"9743150776","data-ad-format":"auto","data-full-width-responsive":"true"})],-1),x=o('<h1 id="\u1103\u1161\u11AB\u1100\u1168-1-s3-\u1107\u1165\u110F\u1175\u11BA-\u1109\u1162\u11BC\u1109\u1165\u11BC\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#\u1103\u1161\u11AB\u1100\u1168-1-s3-\u1107\u1165\u110F\u1175\u11BA-\u1109\u1162\u11BC\u1109\u1165\u11BC\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> \uB2E8\uACC4 1: S3 \uBC84\uD0B7 \uC0DD\uC131\uD558\uAE30</h1><p>\uBA3C\uC800 AWS \uACC4\uC815\uC5D0\uC11C S3 \uBC84\uD0B7\uC744 \uB9CC\uB4E4\uC5B4 \uBCF4\uC138\uC694. \uBC84\uD0B7\uC5D0 \uACE0\uC720\uD55C \uC774\uB984\uC744 \uC120\uD0DD\uD558\uB3C4\uB85D \uD574\uC8FC\uC138\uC694.</p><p><img src="'+u+'" alt="\uC774\uBBF8\uC9C0"></p><h1 id="\u1103\u1161\u11AB\u1100\u1168-2-s3-\u1107\u1165\u110F\u1175\u11BA\u110B\u1166-cors-\u110C\u1165\u11BC\u110E\u1162\u11A8-\u110E\u116E\u1100\u1161\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#\u1103\u1161\u11AB\u1100\u1168-2-s3-\u1107\u1165\u110F\u1175\u11BA\u110B\u1166-cors-\u110C\u1165\u11BC\u110E\u1162\u11A8-\u110E\u116E\u1100\u1161\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> \uB2E8\uACC4 2: S3 \uBC84\uD0B7\uC5D0 CORS \uC815\uCC45 \uCD94\uAC00\uD558\uAE30</h1><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>',5),L=n("p",null,"React \uD504\uB7F0\uD2B8\uC5D4\uB4DC\uC5D0\uC11C S3 \uBC84\uD0B7\uC73C\uB85C \uAC1D\uCCB4\uB97C \uC5C5\uB85C\uB4DC\uD558\uB824\uBA74 \uBC84\uD0B7\uC5D0 CORS(Cross-Origin Resource Sharing) \uC815\uCC45\uC744 \uCD94\uAC00\uD574\uC57C \uD569\uB2C8\uB2E4. \uC774 \uC815\uCC45\uC740 \uC5B4\uB5A4 \uCD9C\uCC98\uAC00 \uBC84\uD0B7\uC5D0 \uC561\uC138\uC2A4\uD560 \uC218 \uC788\uB294\uC9C0\uC640 \uD5C8\uC6A9\uB41C HTTP \uBA54\uC11C\uB4DC\uB97C \uC815\uC758\uD569\uB2C8\uB2E4.",-1),q=n("p",null,[n("img",{src:r,alt:"\uC774\uBBF8\uC9C0"})],-1),T=n("h1",{id:"\u1103\u1161\u11AB\u1100\u1168-3-\u1105\u1161\u11B7\u1103\u1161-\u1112\u1161\u11B7\u1109\u116E-\u1109\u1162\u11BC\u1109\u1165\u11BC",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u1103\u1161\u11AB\u1100\u1168-3-\u1105\u1161\u11B7\u1103\u1161-\u1112\u1161\u11B7\u1109\u116E-\u1109\u1162\u11BC\u1109\u1165\u11BC","aria-hidden":"true"},"#"),s(" \uB2E8\uACC4 3: \uB78C\uB2E4 \uD568\uC218 \uC0DD\uC131")],-1),C=n("p",null,"\uC774\uC81C S3 \uBC84\uD0B7\uC5D0 \uAC1D\uCCB4\uB97C \uC5C5\uB85C\uB4DC\uD558\uAE30 \uC704\uD55C \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uC0DD\uC131\uD558\uB294 \uB78C\uB2E4 \uD568\uC218\uB97C \uB9CC\uB4E4\uC5B4\uC57C \uD569\uB2C8\uB2E4. \uC774 \uC608\uC5D0\uC11C\uB294 .png \uD30C\uC77C\uC744 \uC5C5\uB85C\uB4DC\uD558\uC9C0\uB9CC \uC6D0\uD558\uB294 \uD30C\uC77C \uC720\uD615\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC774 \uD568\uC218\uB294 React \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC5D0 \uC758\uD574 \uD638\uCD9C\uB418\uC5B4 \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uC81C\uACF5\uBC1B\uC544 S3 \uBC84\uD0B7\uC5D0 \uD30C\uC77C\uC744 \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uB294 \uC784\uC2DC \uC561\uC138\uC2A4\uB97C \uBD80\uC5EC\uD569\uB2C8\uB2E4.",-1),I=n("p",null,[n("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4877378276818686","data-ad-slot":"9743150776","data-ad-format":"auto","data-full-width-responsive":"true"})],-1),W=o('<p><img src="'+d+`" alt="\uC774\uBBF8\uC9C0"></p><p>\uBC84\uD0B7\uC744 \uC5C5\uB85C\uB4DC\uD560 \uC704\uCE58\uB97C \uC815\uC758\uD558\uACE0 \uAC1D\uCCB4\uC5D0 \uB300\uD55C \uACE0\uC720\uD55C \uD0A4\uB97C \uC0DD\uC131\uD558\uB294 \uD568\uC218 \uCF54\uB4DC\uB97C \uCD94\uAC00\uD558\uC138\uC694. \uADF8\uB7F0 \uB2E4\uC74C PUT \uBC29\uBC95, 1\uC2DC\uAC04\uC758 \uB9CC\uB8CC \uC2DC\uAC04\uC744 \uC0AC\uC6A9\uD558\uC5EC s3.generate_presigned_url() \uD568\uC218\uB97C \uC0AC\uC6A9\uD569\uB2C8\uB2E4. \uC6D0\uD558\uB294\uB300\uB85C \uC124\uC815\uC744 \uAD6C\uC131\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC5EC\uAE30\uC5D0 \uC81C \uD568\uC218 \uCF54\uB4DC\uAC00 \uC5B4\uB5BB\uAC8C \uBCF4\uC774\uB294\uC9C0 \uD655\uC778\uD574\uBCF4\uC138\uC694.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> json
<span class="token keyword">import</span> boto3
<span class="token keyword">import</span> uuid

<span class="token comment"># S3 \uD074\uB77C\uC774\uC5B8\uD2B8 \uAD6C\uC131</span>
s3 <span class="token operator">=</span> boto3<span class="token punctuation">.</span>client<span class="token punctuation">(</span><span class="token string">&#39;s3&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">lambda_handler</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># \uD658\uACBD \uBCC0\uC218\uC5D0\uC11C \uBC84\uD0B7 \uC774\uB984 \uAC00\uC838\uC624\uAE30</span>
    bucket_name <span class="token operator">=</span> <span class="token string">&#39;helela-presigned-url-upload&#39;</span>
    key <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&#39;</span><span class="token interpolation"><span class="token punctuation">{</span>uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">.png&#39;</span></span>      <span class="token comment"># \uAC1D\uCCB4\uC5D0 \uB300\uD55C \uACE0\uC720\uD55C \uD0A4 \uC0DD\uC131</span>

    <span class="token comment"># \uC0AC\uC804 \uC11C\uBA85\uB41C URL \uC0DD\uC131</span>
    presigned_url <span class="token operator">=</span> s3<span class="token punctuation">.</span>generate_presigned_url<span class="token punctuation">(</span>
        ClientMethod<span class="token operator">=</span><span class="token string">&#39;put_object&#39;</span><span class="token punctuation">,</span>
        Params<span class="token operator">=</span><span class="token punctuation">{</span>
            <span class="token string">&#39;Bucket&#39;</span><span class="token punctuation">:</span> bucket_name<span class="token punctuation">,</span> 
            <span class="token string">&#39;Key&#39;</span><span class="token punctuation">:</span> key<span class="token punctuation">,</span>
            <span class="token string">&#39;ContentType&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;application/png&#39;</span><span class="token punctuation">,</span>  <span class="token comment"># .png\uC6A9 Content-Type \uC124\uC815</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        ExpiresIn<span class="token operator">=</span><span class="token number">3600</span><span class="token punctuation">,</span>    <span class="token comment"># URL\uC758 \uB9CC\uB8CC \uC2DC\uAC04(\uCD08)\uC744 \uC9C0\uC815\uD569\uB2C8\uB2E4. \uC5EC\uAE30\uC11C\uB294 1\uC2DC\uAC04\uC73C\uB85C \uC124\uC815\uB428</span>
        HttpMethod<span class="token operator">=</span><span class="token string">&#39;PUT&#39;</span>   <span class="token comment"># URL\uC5D0\uC11C PUT \uC694\uCCAD\uB9CC \uD5C8\uC6A9</span>
    <span class="token punctuation">)</span>

    <span class="token comment"># \uC751\uB2F5 \uC791\uC131</span>
    response <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;statusCode&#39;</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token string">&#39;headers&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&#39;Access-Control-Allow-Origin&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;http://localhost:3000&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&#39;body&#39;</span><span class="token punctuation">:</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string">&#39;presignedUrl&#39;</span><span class="token punctuation">:</span> presigned_url<span class="token punctuation">,</span>
            <span class="token string">&#39;key&#39;</span><span class="token punctuation">:</span> key
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> response
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u1103\u1161\u11AB\u1100\u1168-4-lambda-\u1112\u1161\u11B7\u1109\u116E\u110B\u1174-iam-\u110B\u1167\u11A8\u1112\u1161\u11AF\u110B\u1166-putobject-\u110C\u1165\u11BC\u110E\u1162\u11A8-\u110E\u116E\u1100\u1161" tabindex="-1"><a class="header-anchor" href="#\u1103\u1161\u11AB\u1100\u1168-4-lambda-\u1112\u1161\u11B7\u1109\u116E\u110B\u1174-iam-\u110B\u1167\u11A8\u1112\u1161\u11AF\u110B\u1166-putobject-\u110C\u1165\u11BC\u110E\u1162\u11A8-\u110E\u116E\u1100\u1161" aria-hidden="true">#</a> \uB2E8\uACC4 4: Lambda \uD568\uC218\uC758 IAM \uC5ED\uD560\uC5D0 PutObject \uC815\uCC45 \uCD94\uAC00</h2><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,5),j=n("p",null,"Lambda \uD568\uC218\uAC00 \uD074\uB77C\uC774\uC5B8\uD2B8\uB97C \uB300\uC2E0\uD558\uC5EC S3 \uBC84\uD0B7\uC5D0 \uAC1D\uCCB4\uB97C \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uB3C4\uB85D\uD558\uB824\uBA74 Lambda \uD568\uC218\uC758 IAM \uC5ED\uD560\uC5D0 PutObject \uC815\uCC45\uC744 \uCD94\uAC00\uD574\uC57C\uD569\uB2C8\uB2E4. \uC774 \uC815\uCC45\uC740 \uC0AC\uC804 \uC11C\uBA85 \uB41C URL\uC774 S3 \uBC84\uD0B7\uC5D0 \uAC1D\uCCB4\uB97C \uC4F8 \uC218\uC788\uB294 \uD544\uC694\uD55C \uAD8C\uD55C\uC744 \uBD80\uC5EC\uD569\uB2C8\uB2E4.",-1),N=n("p",null,"Lambda \uD568\uC218\uC758 Configuration/Permissions\uB85C \uC774\uB3D9\uD558\uACE0 \uC2E4\uD589 \uC5ED\uD560 \uC774\uB984\uC744 \uD074\uB9AD\uD558\uBA74 IAM \uC5ED\uD560 \uCF58\uC194\uB85C \uC774\uB3D9\uD569\uB2C8\uB2E4.",-1),E=n("p",null,[n("img",{src:k,alt:"\uC774\uBBF8\uC9C0"})],-1),O=n("p",null,"Add permissions\uC744 \uD074\uB9AD\uD55C \uD6C4 \uC778\uB77C\uC778 \uC815\uCC45\uC744 \uC0DD\uC131\uD558\uC138\uC694.",-1),F=n("p",null,[n("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4877378276818686","data-ad-slot":"9743150776","data-ad-format":"auto","data-full-width-responsive":"true"})],-1),G=n("img",{src:v},null,-1),M=n("p",null,"JSON\uC744 \uC120\uD0DD\uD558\uACE0, \uB2F9\uC2E0\uB9CC\uC758 S3 \uBC84\uD0B7 ARN\uACFC \uD568\uAED8 \uC815\uCC45\uC744 \uBD99\uC5EC\uB123\uC73C\uC138\uC694.",-1),H=n("img",{src:m},null,-1),B=n("p",null,"\uACE0\uC720\uD55C \uC815\uCC45\uBA85\uC744 \uCD94\uAC00\uD558\uACE0 \uC815\uCC45\uC744 \uC0DD\uC131\uD558\uC138\uC694.",-1),D=n("p",null,[n("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4877378276818686","data-ad-slot":"9743150776","data-ad-format":"auto","data-full-width-responsive":"true"})],-1),K=n("img",{src:b},null,-1),V=n("h1",{id:"\u1103\u1161\u11AB\u1100\u1168-5-api-gateway-\u1110\u1173\u1105\u1175\u1100\u1165-\u110E\u116E\u1100\u1161",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u1103\u1161\u11AB\u1100\u1168-5-api-gateway-\u1110\u1173\u1105\u1175\u1100\u1165-\u110E\u116E\u1100\u1161","aria-hidden":"true"},"#"),s(" \uB2E8\uACC4 5: API Gateway \uD2B8\uB9AC\uAC70 \uCD94\uAC00")],-1),J=n("p",null,"API Gateway\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uC0DD\uC131\uD558\uB294 Lambda \uD568\uC218\uB97C \uD638\uCD9C\uD558\uB294 \uD2B8\uB9AC\uAC70\uB85C \uC0AC\uC6A9\uD558\uB294 \uAC83\uC740 \uBCF4\uC548 \uAC15\uD654, \uD655\uC7A5\uC131, \uB9DE\uCDA4\uD654, \uC18D\uB3C4 \uC81C\uD55C \uADF8\uB9AC\uACE0 \uC2DC\uD6A8\uC801\uC778 Lambda \uD1B5\uD569\uACFC \uAC19\uC740 \uC774\uC810\uC744 \uC81C\uACF5\uD569\uB2C8\uB2E4.",-1),Y=n("p",null,"Lambda \uD568\uC218\uC5D0 \uD2B8\uB9AC\uAC70\uB85C API Gateway\uB97C \uAD6C\uC131\uD558\uC138\uC694. \uC774\uB97C \uD1B5\uD574 React \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC774 Lambda \uD568\uC218\uB97C HTTP\uB97C \uD1B5\uD574 \uD638\uCD9C\uD558\uACE0 \uD30C\uC77C \uC5C5\uB85C\uB4DC\uB97C \uC704\uD55C \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uC5BB\uC744 \uC218 \uC788\uC2B5\uB2C8\uB2E4.",-1),$=n("p",null,[n("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4877378276818686","data-ad-slot":"9743150776","data-ad-format":"auto","data-full-width-responsive":"true"})],-1),z=n("p",null,"API Gateway\uB85C \uC774\uB3D9\uD574\uC11C HTTP API\uB97C \uB9CC\uB4E4\uC5B4\uBCF4\uC138\uC694.",-1),Q=n("p",null,[n("img",{src:g,alt:"image"})],-1),X=n("p",null,"\uC774 API\uB97C \uB78C\uB2E4 \uD568\uC218\uC758 \uD2B8\uB9AC\uAC70\uB85C \uC124\uC815\uD558\uB824\uBA74 \uB78C\uB2E4 \uD568\uC218\uC758 ARN\uC744 \uBD99\uC5EC\uB123\uC73C\uC138\uC694.",-1),Z=n("p",null,[n("img",{src:_,alt:"image"})],-1),nn=n("p",null,[n("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4877378276818686","data-ad-slot":"9743150776","data-ad-format":"auto","data-full-width-responsive":"true"})],-1),sn=n("p",null,"\uD14C\uC774\uBE14 \uD0DC\uADF8\uB97C Markdown \uD615\uC2DD\uC73C\uB85C \uBCC0\uACBD\uD574\uC8FC\uC138\uC694.",-1),an=n("p",null,[n("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4877378276818686","data-ad-slot":"9743150776","data-ad-format":"auto","data-full-width-responsive":"true"})],-1),tn=n("p",null,"API\uAC00 \uC0DD\uC131\uB41C \uD6C4, CORS \uC815\uCC45\uC744 \uC124\uC815\uD558\uC5EC http://localhost:3000 (\uB610\uB294 \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uD638\uC2A4\uD2B8)\uC5D0\uC11C\uC758 \uC694\uCCAD\uB9CC \uD5C8\uC6A9\uD558\uB3C4\uB85D \uAD6C\uC131\uD558\uC138\uC694.",-1),en=n("p",null,[n("img",{src:h,alt:"\uC774\uBBF8\uC9C0"})],-1),pn=n("p",null,"Lambda \uAE30\uB2A5 \uD398\uC774\uC9C0\uC5D0\uC11C API Gateway Lambda \uD2B8\uB9AC\uAC70\uC758 \uC0DD\uC131\uC744 \uD655\uC778\uD558\uC138\uC694.",-1),on=n("p",null,[n("img",{src:y,alt:"\uC774\uBBF8\uC9C0"})],-1),ln=n("p",null,[n("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-4877378276818686","data-ad-slot":"9743150776","data-ad-format":"auto","data-full-width-responsive":"true"})],-1),cn=o(`<h1 id="\u1103\u1161\u11AB\u1100\u1168-6-react-\u1111\u1173\u1105\u1169\u11AB\u1110\u1173\u110B\u1166\u11AB\u1103\u1173\u110B\u1166\u1109\u1165-\u110B\u1165\u11B8\u1105\u1169\u1103\u1173-\u1110\u1166\u1109\u1173\u1110\u1173\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#\u1103\u1161\u11AB\u1100\u1168-6-react-\u1111\u1173\u1105\u1169\u11AB\u1110\u1173\u110B\u1166\u11AB\u1103\u1173\u110B\u1166\u1109\u1165-\u110B\u1165\u11B8\u1105\u1169\u1103\u1173-\u1110\u1166\u1109\u1173\u1110\u1173\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> \uB2E8\uACC4 6: React \uD504\uB860\uD2B8\uC5D4\uB4DC\uC5D0\uC11C \uC5C5\uB85C\uB4DC \uD14C\uC2A4\uD2B8\uD558\uAE30:</h1><p>\uB9C8\uC9C0\uB9C9\uC73C\uB85C \uC120\uD0DD\uD55C \uD30C\uC77C \uC5C5\uB85C\uB4DC \uAE30\uB2A5\uC744 React \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC5D0 \uD1B5\uD569\uD558\uC138\uC694. HTTP \uC694\uCCAD\uC744 \uD558\uAE30 \uC704\uD574 Axios \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uC0AC\uC6A9\uD558\uC5EC API Gateway \uC5D4\uB4DC\uD3EC\uC778\uD2B8\uC5D0 \uC694\uCCAD\uC744 \uBCF4\uB0B4 Lambda \uD568\uC218\uB97C \uD638\uCD9C\uD558\uACE0 \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uBC18\uD658\uD569\uB2C8\uB2E4. \uADF8\uB7F0 \uB2E4\uC74C \uC774 URL\uC744 \uC0AC\uC6A9\uD558\uC5EC \uD074\uB77C\uC774\uC5B8\uD2B8 \uCE21\uC5D0\uC11C \uC9C1\uC811 S3 \uBC84\uD0B7\uC5D0 \uC120\uD0DD\uD55C \uD30C\uC77C\uC744 \uC5C5\uB85C\uB4DC\uD569\uB2C8\uB2E4.</p><p>\uC6B0\uB9AC\uB294 axios \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uBC1B\uC544\uC624\uACE0 \uC774\uB97C \uC0AC\uC6A9\uD558\uC5EC \uD30C\uC77C\uC744 \uC5C5\uB85C\uB4DC\uD560 \uAC83\uC785\uB2C8\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install axios    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,5),un=o(`<p>App.js\uB97C \uD3B8\uC9D1\uD558\uACE0 \uB2E4\uC74C \uCF54\uB4DC\uB97C \uBD99\uC5EC\uB123\uC73C\uC138\uC694. API_ENDPOINT\uB97C \uBCF8\uC778\uC758 API \uC5D4\uB4DC\uD3EC\uC778\uD2B8\uB85C \uBC14\uAFD4\uC8FC\uC138\uC694.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./App.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedFile<span class="token punctuation">,</span> setSelectedFile<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>uploadProgress<span class="token punctuation">,</span> setUploadProgress<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleFileChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setSelectedFile</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// API Gateway url to invoke function to generate presigned url</span>
  <span class="token keyword">const</span> <span class="token constant">API_ENDPOINT</span> <span class="token operator">=</span> <span class="token string">&quot;https://your-api-endpoint-here/route&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// Function to generate the presigned url</span>
  <span class="token keyword">const</span> <span class="token function-variable function">getPresignedUrl</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// GET request: presigned URL</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token constant">API_ENDPOINT</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> presignedUrl <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>presignedUrl<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>presignedUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> presignedUrl<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Function to upload the selected file using the generated presigned url</span>
  <span class="token keyword">const</span> <span class="token function-variable function">uploadToPresignedUrl</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">presignedUrl</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Upload file to pre-signed URL</span>
    <span class="token keyword">const</span> uploadResponse <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>presignedUrl<span class="token punctuation">,</span> selectedFile<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/png&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">onUploadProgress</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">progressEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> percentCompleted <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>
          <span class="token punctuation">(</span>progressEvent<span class="token punctuation">.</span>loaded <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> progressEvent<span class="token punctuation">.</span>total
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setUploadProgress</span><span class="token punctuation">(</span>percentCompleted<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Upload Progress: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>percentCompleted<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>uploadResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Function to orchestrate the upload process</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleUpload</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">// Ensure a file is selected</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>selectedFile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;No file selected.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">const</span> presignedUrl <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPresignedUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">uploadToPresignedUrl</span><span class="token punctuation">(</span>presignedUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Handle error</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Error uploading file:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>\uD30C\uC77C \uC120\uD0DD \uCEF4\uD3EC\uB10C\uD2B8<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleFileChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleUpload<span class="token punctuation">}</span><span class="token operator">&gt;</span>\uC5C5\uB85C\uB4DC<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC744 \uC2E4\uD589\uD558\uACE0 \uD14C\uC2A4\uD2B8\uD558\uC138\uC694.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,5),rn=n("img",{src:f},null,-1),dn=n("h1",{id:"\u1100\u1167\u11AF\u1105\u1169\u11AB",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u1100\u1167\u11AF\u1105\u1169\u11AB","aria-hidden":"true"},"#"),s(" \uACB0\uB860")],-1),kn=n("p",null,"\uC704 \uB2E8\uACC4\uB97C \uB530\uB974\uBA74 \uC0AC\uC804 \uC11C\uBA85\uB41C URL\uC744 \uC0AC\uC6A9\uD558\uC5EC React \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC5D0\uC11C \uC548\uC804\uD558\uAC8C \uD30C\uC77C\uC744 AWS S3 \uBC84\uD0B7\uC5D0 \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC774 \uC811\uADFC \uBC29\uC2DD\uC740 S3\uB85C\uC758 \uC9C1\uC811 \uC5C5\uB85C\uB4DC\uC640 \uAD00\uB828\uB41C \uBCF4\uC548 \uC704\uD5D8\uC744 \uC644\uD654\uD558\uBA70 \uC560\uD50C\uB9AC\uCF00\uC774\uC158\uC5D0\uC11C \uD30C\uC77C \uC5C5\uB85C\uB4DC\uB97C \uD6A8\uC728\uC801\uC73C\uB85C \uCC98\uB9AC\uD560 \uC218 \uC788\uB294 \uD655\uC7A5 \uAC00\uB2A5\uD55C \uC194\uB8E8\uC158\uC744 \uC81C\uACF5\uD569\uB2C8\uB2E4.",-1);function vn(mn,bn){return a(),c("div",null,[U,P,A,S,R,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),x,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),L,q,T,C,I,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),W,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),j,N,E,O,F,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),G,M,H,B,D,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),K,V,J,Y,$,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),z,Q,X,Z,nn,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),sn,an,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),tn,en,pn,on,ln,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),cn,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),un,(a(),t(p("script"),null,{default:e(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),rn,dn,kn])}var Un=l(w,[["render",vn],["__file","index.html.vue"]]);export{Un as default};
