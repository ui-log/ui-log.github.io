import{_ as l,f as i,o as a,c as u,a as e,w as p,b as s,r as o,e as n,g as r,d as t}from"./app.e672c54b.js";const d={},k=t('<h1 id="nextjs-14-\u1106\u1175\u1103\u1173\u11AF\u110B\u1170\u110B\u1165-\u1109\u1161\u110B\u116D\u11BC\u1107\u1165\u11B8" tabindex="-1"><a class="header-anchor" href="#nextjs-14-\u1106\u1175\u1103\u1173\u11AF\u110B\u1170\u110B\u1165-\u1109\u1161\u110B\u116D\u11BC\u1107\u1165\u11B8" aria-hidden="true">#</a> Nextjs 14 \uBBF8\uB4E4\uC6E8\uC5B4 \uC0AC\uC6A9\uBC95</h1><h1 id="\u1106\u1175\u1103\u1173\u11AF\u110B\u1170\u110B\u1165" tabindex="-1"><a class="header-anchor" href="#\u1106\u1175\u1103\u1173\u11AF\u110B\u1170\u110B\u1165" aria-hidden="true">#</a> \uBBF8\uB4E4\uC6E8\uC5B4</h1><p>\uBBF8\uB4E4\uC6E8\uC5B4\uB97C \uC0AC\uC6A9\uD558\uBA74 \uC694\uCCAD\uC774 \uC644\uB8CC\uB418\uAE30 \uC804\uC5D0 \uCF54\uB4DC\uB97C \uC2E4\uD589\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uADF8\uB7F0 \uB2E4\uC74C \uB4E4\uC5B4\uC624\uB294 \uC694\uCCAD\uC5D0 \uAE30\uBC18\uD558\uC5EC \uC751\uB2F5\uC744 \uC218\uC815\uD558\uAC70\uB098 \uB2E4\uC2DC \uC791\uC131, \uB9AC\uB514\uB809\uC158, \uC694\uCCAD \uB610\uB294 \uC751\uB2F5 \uD5E4\uB354\uB97C \uC218\uC815\uD558\uAC70\uB098 \uC9C1\uC811 \uC751\uB2F5\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><p>\uBBF8\uB4E4\uC6E8\uC5B4\uB294 \uCE90\uC2DC\uB41C \uCF58\uD150\uCE20\uC640 \uB77C\uC6B0\uD2B8\uAC00 \uC77C\uCE58\uD558\uAE30 \uC804\uC5D0 \uC2E4\uD589\uB429\uB2C8\uB2E4. \uC790\uC138\uD55C \uB0B4\uC6A9\uC740 \uACBD\uB85C \uC77C\uCE58\uB97C \uCC38\uC870\uD558\uC2ED\uC2DC\uC624.</p><h2 id="\u1100\u1172\u110E\u1175\u11A8" tabindex="-1"><a class="header-anchor" href="#\u1100\u1172\u110E\u1175\u11A8" aria-hidden="true">#</a> \uADDC\uCE59</h2><p>\uBBF8\uB4E4\uC6E8\uC5B4\uB97C \uC815\uC758\uD558\uB824\uBA74 \uD504\uB85C\uC81D\uD2B8\uC758 \uB8E8\uD2B8\uC5D0 middleware.ts(\uB610\uB294 .js) \uD30C\uC77C\uC744 \uC0AC\uC6A9\uD558\uC2ED\uC2DC\uC624. \uC608\uB97C \uB4E4\uC5B4, \uD398\uC774\uC9C0 \uB610\uB294 \uC571\uACFC \uAC19\uC740 \uC218\uC900\uC5D0 \uC788\uAC70\uB098 \uD574\uB2F9\uD558\uB294 \uACBD\uC6B0 src \uB0B4\uBD80\uC5D0 \uC788\uC2B5\uB2C8\uB2E4.</p><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>',7),v=t(`<h2 id="\u110B\u1168\u110C\u1166" tabindex="-1"><a class="header-anchor" href="#\u110B\u1168\u110C\u1166" aria-hidden="true">#</a> \uC608\uC81C</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// \`await\`\uC744 \uC0AC\uC6A9\uD558\uB294 \uACBD\uC6B0 \uC774 \uD568\uC218\uB97C \`async\`\uB85C \uD45C\uC2DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span><span class="token string">&quot;/home&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \uC544\uB798 &quot;\uACBD\uB85C \uC77C\uCE58&quot; \uC139\uC158\uC744 \uCC38\uC870\uD558\uC5EC \uC790\uC138\uD788 \uC54C\uC544\uBCF4\uC138\uC694</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  matcher<span class="token operator">:</span> <span class="token string">&quot;/about/:path*&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,3),m=t('<h2 id="\u1100\u1167\u11BC\u1105\u1169-\u110B\u1175\u11AF\u110E\u1175" tabindex="-1"><a class="header-anchor" href="#\u1100\u1167\u11BC\u1105\u1169-\u110B\u1175\u11AF\u110E\u1175" aria-hidden="true">#</a> \uACBD\uB85C \uC77C\uCE58</h2><p>\uBBF8\uB4E4\uC6E8\uC5B4\uB294 \uD504\uB85C\uC81D\uD2B8\uC758 \uBAA8\uB4E0 \uB77C\uC6B0\uD2B8\uC5D0 \uB300\uD574 \uD638\uCD9C\uB429\uB2C8\uB2E4. \uC2E4\uD589 \uC21C\uC11C\uB294 \uB2E4\uC74C\uACFC \uAC19\uC2B5\uB2C8\uB2E4.</p><ul><li>next.config.js\uC5D0\uC11C \uD5E4\uB354</li><li>next.config.js\uC5D0\uC11C \uB9AC\uB514\uB809\uC158</li><li>\uBBF8\uB4E4\uC6E8\uC5B4 (\uC7AC\uC791\uC131, \uB9AC\uB514\uB809\uC158 \uB4F1)</li><li>next.config.js\uC5D0\uC11C beforeFiles (\uC7AC\uC791\uC131)</li><li>\uD30C\uC77C \uC2DC\uC2A4\uD15C \uACBD\uB85C (public/, _next/static/, pages/, app/ \uB4F1)</li><li>next.config.js\uC5D0\uC11C afterFiles (\uC7AC\uC791\uC131)</li><li>\uB3D9\uC801 \uB77C\uC6B0\uD2B8 (/blog/[slug])</li><li>next.config.js\uC5D0\uC11C fallback (\uC7AC\uC791\uC131)</li></ul><p>\uBBF8\uB4E4\uC6E8\uC5B4\uAC00 \uC2E4\uD589\uB420 \uACBD\uB85C\uB97C \uC815\uC758\uD558\uB294 \uBC29\uBC95\uC5D0\uB294 \uB450 \uAC00\uC9C0\uAC00 \uC788\uC2B5\uB2C8\uB2E4.</p><ul><li>\uC0AC\uC6A9\uC790 \uC9C0\uC815 matcher \uAD6C\uC131</li><li>\uC870\uAC74\uBB38</li></ul><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>',6),b=t(`<h3 id="matcher" tabindex="-1"><a class="header-anchor" href="#matcher" aria-hidden="true">#</a> Matcher</h3><p>matcher\uB97C \uC0AC\uC6A9\uD558\uBA74 \uD2B9\uC815 \uACBD\uB85C\uC5D0\uC11C \uC2E4\uD589\uD560 \uBBF8\uB4E4\uC6E8\uC5B4\uB97C \uD544\uD130\uB9C1\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token string">&quot;/about/:path*&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uB2E8\uC77C \uACBD\uB85C \uB610\uB294 \uBC30\uC5F4 \uAD6C\uBB38\uC744 \uC0AC\uC6A9\uD558\uC5EC \uC5EC\uB7EC \uACBD\uB85C\uB97C \uC77C\uCE58\uC2DC\uD0AC \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/about/:path*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/dashboard/:path*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>matcher \uAD6C\uC131\uC5D0\uC11C\uB294 \uBD80\uC815\uC801\uC778 \uC804\uBC29 \uD0D0\uC0C9 \uB610\uB294 \uBB38\uC790 \uC77C\uCE58\uC640 \uAC19\uC740 \uBAA8\uB4E0 \uC815\uADDC\uC2DD\uC744 \uC9C0\uC6D0\uD569\uB2C8\uB2E4. \uD2B9\uC815 \uACBD\uB85C\uB97C \uC81C\uC678\uD55C \uBAA8\uB4E0 \uC694\uCCAD \uACBD\uB85C\uB97C \uC77C\uCE58\uC2DC\uD0A4\uB824\uBA74 \uB2E4\uC74C\uACFC \uAC19\uC774 \uBD80\uC815\uC801\uC778 \uC804\uBC29 \uD0D0\uC0C9\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">/*
     * \uB2E4\uC74C\uC73C\uB85C \uC2DC\uC791\uD558\uB294 \uBAA8\uB4E0 \uC694\uCCAD \uACBD\uB85C\uC640 \uC77C\uCE58\uD558\uC9C0 \uC54A\uB294 \uBAA8\uB4E0 \uC694\uCCAD \uACBD\uB85C:
     * - api (API \uB77C\uC6B0\uD2B8)
     * - _next/static (\uC815\uC801 \uD30C\uC77C)
     * - _next/image (\uC774\uBBF8\uC9C0 \uCD5C\uC801\uD654 \uD30C\uC77C)
     * - favicon.ico (\uD30C\uBE44\uCF58 \uD30C\uC77C)
     */</span>
    <span class="token string">&quot;/((?!api|_next/static|_next/image|favicon.ico).*)&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,8),g=t(`<p>\uBBF8\uB4E4\uC6E8\uC5B4\uAC00 \uB2E4\uC74C/link\uC5D0\uC11C \uAC00\uC838\uC628 prefetch\uB97C \uBB34\uC2DC\uD558\uACE0 Middleware\uB97C \uD1B5\uACFC\uD558\uC9C0 \uC54A\uC544\uB3C4 \uB418\uB294 \uACBD\uC6B0 missing \uBC30\uC5F4\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">/*
     * \uB2E4\uC74C\uC73C\uB85C \uC2DC\uC791\uD558\uB294 \uBAA8\uB4E0 \uC694\uCCAD \uACBD\uB85C\uC640 \uC77C\uCE58\uD558\uC9C0 \uC54A\uB294 \uBAA8\uB4E0 \uC694\uCCAD \uACBD\uB85C:
     * - api (API \uB77C\uC6B0\uD2B8)
     * - _next/static (\uC815\uC801 \uD30C\uC77C)
     * - _next/image (\uC774\uBBF8\uC9C0 \uCD5C\uC801\uD654 \uD30C\uC77C)
     * - favicon.ico (\uD30C\uBE44\uCF58 \uD30C\uC77C)
     */</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">&quot;/((?!api|_next/static|_next/image|favicon.ico).*)&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">missing</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;header&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;next-router-prefetch&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;header&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;purpose&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;prefetch&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\uC54C\uC544\uB450\uC138\uC694: matcher \uAC12\uC740 \uC0C1\uC218\uC5EC\uC57C \uD558\uBBC0\uB85C \uBE4C\uB4DC \uC2DC\uAC04\uC5D0 \uC815\uC801\uC73C\uB85C \uBD84\uC11D\uB420 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uBCC0\uC218\uC640 \uAC19\uC740 \uB3D9\uC801 \uAC12\uC740 \uBB34\uC2DC\uB429\uB2C8\uB2E4.</p></blockquote><p>\uAD6C\uC131\uB41C matcher:</p><ul><li>\uBC18\uB4DC\uC2DC /\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4.</li><li>\uC774\uB984 \uC788\uB294 \uB9E4\uAC1C\uBCC0\uC218\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4: /about/:path\uB294 /about/a\uC640 /about/b\uC5D0 \uC77C\uCE58\uD558\uC9C0\uB9CC /about/a/c\uC5D0\uB294 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.</li><li>\uC774\uB984 \uC788\uB294 \uB9E4\uAC1C\uBCC0\uC218\uC5D0 \uC218\uC815\uC790\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4 (\uC2DC\uC791\uC774 :\uC785\uB2C8\uB2E4): /about/:path*\uB294 *\uC774 0\uAC1C \uC774\uC0C1\uC784\uC744 \uB098\uD0C0\uB0C5\uB2C8\uB2E4. ?\uB294 0\uAC1C \uB610\uB294 1\uAC1C, +\uB294 1\uAC1C \uC774\uC0C1\uC785\uB2C8\uB2E4.</li><li>\uAD04\uD638\uB85C \uB458\uB7EC\uC2FC \uC815\uADDC\uC2DD\uC744 \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4: /about/(.*)\uB294 /about</li></ul><p>/:path*\uC640 \uAC19\uC2B5\uB2C8\uB2E4.</p><p>\uACBD\uB85C\uC5D0 \uB300\uD55C \uC790\uC138\uD55C \uB0B4\uC6A9\uC740 path-to-regexp \uBB38\uC11C\uB97C \uCC38\uC870\uD558\uC2ED\uC2DC\uC624.</p><blockquote><p>\uC54C\uC544\uB450\uC138\uC694: \uD558\uC704 \uD638\uD658\uC131\uC744 \uC704\uD574 Next.js\uB294 \uD56D\uC0C1 /public\uC744 /public/index\uB85C \uAC04\uC8FC\uD569\uB2C8\uB2E4. \uB530\uB77C\uC11C /public/:path matcher\uB294 \uC77C\uCE58\uD569\uB2C8\uB2E4.</p></blockquote><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,9),h=t(`<h3 id="\u110C\u1169\u1100\u1165\u11AB\u1106\u116E\u11AB" tabindex="-1"><a class="header-anchor" href="#\u110C\u1169\u1100\u1165\u11AB\u1106\u116E\u11AB" aria-hidden="true">#</a> \uC870\uAC74\uBB38</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>nextUrl<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;/about&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">rewrite</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span><span class="token string">&quot;/about-2&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>nextUrl<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;/dashboard&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">rewrite</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span><span class="token string">&quot;/dashboard/user&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,3),y=t('<h2 id="nextresponse" tabindex="-1"><a class="header-anchor" href="#nextresponse" aria-hidden="true">#</a> NextResponse</h2><p>NextResponse API\uB97C \uC0AC\uC6A9\uD558\uBA74 \uB2E4\uC74C\uC744 \uC218\uD589\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4:</p><ul><li>\uB4E4\uC5B4\uC624\uB294 \uC694\uCCAD\uC744 \uB2E4\uB978 URL\uB85C \uB9AC\uB514\uB809\uC158\uD569\uB2C8\uB2E4.</li><li>\uC8FC\uC5B4\uC9C4 URL\uC744 \uD45C\uC2DC\uD558\uC5EC \uC751\uB2F5\uC744 \uB2E4\uC2DC \uC791\uC131\uD569\uB2C8\uB2E4.</li><li>API Routes, getServerSideProps \uBC0F \uB9AC\uB514\uB809\uC158 \uB300\uC0C1\uC5D0 \uB300\uD55C \uC694\uCCAD \uD5E4\uB354\uB97C \uC124\uC815\uD569\uB2C8\uB2E4.</li><li>\uC751\uB2F5 \uCFE0\uD0A4\uB97C \uC124\uC815\uD569\uB2C8\uB2E4.</li><li>\uC751\uB2F5 \uD5E4\uB354\uB97C \uC124\uC815\uD569\uB2C8\uB2E4.</li></ul><p>\uBBF8\uB4E4\uC6E8\uC5B4\uC5D0\uC11C \uC751\uB2F5\uC744 \uC0DD\uC131\uD558\uB824\uBA74 \uB2E4\uC74C\uC744 \uC218\uD589\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4:</p><ul><li>\uC751\uB2F5\uC744 \uC0DD\uC131\uD558\uB294 \uB77C\uC6B0\uD2B8(Page \uB610\uB294 Route Handler)\uB85C \uB9AC\uB514\uB809\uC158\uD569\uB2C8\uB2E4.</li><li>\uC9C1\uC811 NextResponse\uB97C \uBC18\uD658\uD569\uB2C8\uB2E4. \uC751\uB2F5 \uC0DD\uC131 \uCC38\uC870</li></ul><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>',6),f=t(`<h2 id="\u110F\u116E\u110F\u1175-\u1109\u1161\u110B\u116D\u11BC" tabindex="-1"><a class="header-anchor" href="#\u110F\u116E\u110F\u1175-\u1109\u1161\u110B\u116D\u11BC" aria-hidden="true">#</a> \uCFE0\uD0A4 \uC0AC\uC6A9</h2><p>\uCFE0\uD0A4\uB294 \uC77C\uBC18\uC801\uC778 \uD5E4\uB354\uC785\uB2C8\uB2E4. \uC694\uCCAD\uC5D0\uC11C\uB294 \uCFE0\uD0A4\uAC00 Cookie \uD5E4\uB354\uC5D0 \uC800\uC7A5\uB429\uB2C8\uB2E4. \uC751\uB2F5\uC5D0\uC11C\uB294 Set-Cookie \uD5E4\uB354\uC5D0 \uC800\uC7A5\uB429\uB2C8\uB2E4. Next.js\uB294 NextRequest\uC640 NextResponse\uC758 cookies \uD655\uC7A5\uC744 \uD1B5\uD574 \uC774\uB7EC\uD55C \uCFE0\uD0A4\uC5D0 \uC27D\uAC8C \uC561\uC138\uC2A4\uD558\uACE0 \uC870\uC791\uD560 \uC218 \uC788\uB294 \uD3B8\uB9AC\uD55C \uBC29\uBC95\uC744 \uC81C\uACF5\uD569\uB2C8\uB2E4.</p><ul><li>\uB4E4\uC5B4\uC624\uB294 \uC694\uCCAD\uC5D0 \uB300\uD574 cookies\uB294 \uB2E4\uC74C \uBA54\uC11C\uB4DC\uB97C \uAC00\uC9C0\uACE0 \uC788\uC2B5\uB2C8\uB2E4: get, getAll, set \uBC0F delete cookies. has\uB97C \uC0AC\uC6A9\uD558\uC5EC \uCFE0\uD0A4\uC758 \uC874\uC7AC \uC5EC\uBD80\uB97C \uD655\uC778\uD558\uAC70\uB098 clear\uB97C \uC0AC\uC6A9\uD558\uC5EC \uBAA8\uB4E0 \uCFE0\uD0A4\uB97C \uC81C\uAC70\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</li><li>\uB098\uAC00\uB294 \uC751\uB2F5\uC5D0 \uB300\uD574 cookies\uB294 \uB2E4\uC74C \uBA54\uC11C\uB4DC\uB97C \uAC00\uC9C0\uACE0 \uC788\uC2B5\uB2C8\uB2E4: get, getAll, set \uBC0F delete\uC785\uB2C8\uB2E4.</li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \uB4E4\uC5B4\uC624\uB294 \uC694\uCCAD\uC5D0\uC11C &quot;Cookie:nextjs=fast&quot; \uD5E4\uB354\uAC00 \uC788\uB2E4\uACE0 \uAC00\uC815\uD569\uB2C8\uB2E4.</span>
  <span class="token comment">// RequestCookies API\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC694\uCCAD\uC5D0\uC11C \uCFE0\uD0A4\uB97C \uAC00\uC838\uC635\uB2C8\uB2E4.</span>
  <span class="token keyword">let</span> cookie <span class="token operator">=</span> request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;nextjs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; { name: &#39;nextjs&#39;, value: &#39;fast&#39;, Path: &#39;/&#39; }</span>
  <span class="token keyword">const</span> allCookies <span class="token operator">=</span> request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allCookies<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [{ name: &#39;nextjs&#39;, value: &#39;fast&#39; }]</span>

  request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;nextjs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
  request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;nextjs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  request<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;nextjs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; false</span>

  <span class="token comment">// ResponseCookies API\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC751\uB2F5\uC5D0 \uCFE0\uD0A4\uB97C \uC124\uC815\uD569\uB2C8\uB2E4.</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> NextResponse<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  response<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;vercel&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fast&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  response<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;vercel&quot;</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">&quot;fast&quot;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  cookie <span class="token operator">=</span> response<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;vercel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; { name: &#39;vercel&#39;, value: &#39;fast&#39;, Path: &#39;/&#39; }</span>
  <span class="token comment">// \uB098\uAC00\uB294 \uC751\uB2F5\uC5D0\uB294 \`Set-Cookie:vercel=fast;path=/\` \uD5E4\uB354\uAC00 \uD3EC\uD568\uB429\uB2C8\uB2E4.</span>

  <span class="token keyword">return</span> response<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,5),w=t(`<h2 id="\u1112\u1166\u1103\u1165-\u1109\u1165\u11AF\u110C\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1112\u1166\u1103\u1165-\u1109\u1165\u11AF\u110C\u1165\u11BC" aria-hidden="true">#</a> \uD5E4\uB354 \uC124\uC815</h2><p>NextResponse API\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC694\uCCAD \uBC0F \uC751\uB2F5 \uD5E4\uB354\uB97C \uC124\uC815\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4 (\uC694\uCCAD \uD5E4\uB354 \uC124\uC815\uC740 Next.js v13.0.0\uBD80\uD130 \uC0AC\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4).</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \uC694\uCCAD \uD5E4\uB354\uB97C \uBCF5\uC81C\uD558\uACE0 \uC0C8\uB85C\uC6B4 \uD5E4\uB354 \`x-hello-from-middleware1\`\uB97C \uC124\uC815\uD569\uB2C8\uB2E4.</span>
  <span class="token keyword">const</span> requestHeaders <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
  requestHeaders<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;x-hello-from-middleware1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// NextResponse.rewrite\uC5D0\uC11C\uB3C4 \uC694\uCCAD \uD5E4\uB354\uB97C \uC124\uC815\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> NextResponse<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    request<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// \uC0C8\uB85C\uC6B4 \uC694\uCCAD \uD5E4\uB354</span>
      headers<span class="token operator">:</span> requestHeaders<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// \uC0C8\uB85C\uC6B4 \uC751\uB2F5 \uD5E4\uB354 \`x-hello-from-middleware2\`\uB97C \uC124\uC815\uD569\uB2C8\uB2E4.</span>
  response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;x-hello-from-middleware2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> response<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\uC54C\uC544\uB450\uC138\uC694: \uD070 \uD5E4\uB354\uB97C \uC124\uC815\uD558\uB294 \uAC83\uC740 \uBC31\uC5D4\uB4DC \uC6F9 \uC11C\uBC84 \uAD6C\uC131\uC5D0 \uB530\uB77C 431 Request Header Fields Too Large \uC624\uB958\uB97C \uBC1C\uC0DD\uC2DC\uD0AC \uC218 \uC788\uC73C\uBBC0\uB85C \uD53C\uD558\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.</p></blockquote><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,5),q=t(`<h3 id="cors" tabindex="-1"><a class="header-anchor" href="#cors" aria-hidden="true">#</a> CORS</h3><p>\uBBF8\uB4E4\uC6E8\uC5B4\uC5D0\uC11C CORS \uD5E4\uB354\uB97C \uC124\uC815\uD558\uC5EC \uB2E8\uC21C \uBC0F \uD504\uB9AC\uD50C\uB77C\uC774\uD2B8\uB41C \uC694\uCCAD\uC744 \uD3EC\uD568\uD55C \uAD50\uCC28 \uCD9C\uCC98 \uC694\uCCAD\uC744 \uD5C8\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NextRequest<span class="token punctuation">,</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> allowedOrigins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;https://acme.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;https://my-app.org&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> corsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;Access-Control-Allow-Methods&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GET, POST, PUT, DELETE, OPTIONS&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;Access-Control-Allow-Headers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Content-Type, Authorization&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \uC694\uCCAD\uC5D0\uC11C origin\uC744 \uD655\uC778\uD569\uB2C8\uB2E4.</span>
  <span class="token keyword">const</span> origin <span class="token operator">=</span> request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;origin&quot;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> isAllowedOrigin <span class="token operator">=</span> allowedOrigins<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// \uD504\uB9AC\uD50C\uB77C\uC774\uD2B8\uB41C \uC694\uCCAD\uC744 \uCC98\uB9AC\uD569\uB2C8\uB2E4.</span>
  <span class="token keyword">const</span> isPreflight <span class="token operator">=</span> request<span class="token punctuation">.</span>method <span class="token operator">===</span> <span class="token string">&quot;OPTIONS&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isPreflight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> preflightHeaders <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token punctuation">(</span>isAllowedOrigin <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;Access-Control-Allow-Origin&quot;</span><span class="token operator">:</span> origin <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>corsOptions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> headers<span class="token operator">:</span> preflightHeaders <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \uB2E8\uC21C \uC694\uCCAD\uC744 \uCC98\uB9AC\uD569\uB2C8\uB2E4.</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> NextResponse<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isAllowedOrigin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>corsOptions<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> response<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  matcher<span class="token operator">:</span> <span class="token string">&quot;/api/:path*&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\uC54C\uC544\uB450\uC138\uC694: Route Handlers\uC5D0\uC11C \uAC1C\uBCC4 \uACBD\uB85C\uC5D0 \uB300\uD55C CORS \uD5E4\uB354\uB97C \uAD6C\uC131\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p></blockquote><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,5),x=t(`<h2 id="\u110B\u1173\u11BC\u1103\u1161\u11B8-\u1109\u1162\u11BC\u1109\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u110B\u1173\u11BC\u1103\u1161\u11B8-\u1109\u1162\u11BC\u1109\u1165\u11BC" aria-hidden="true">#</a> \uC751\uB2F5 \uC0DD\uC131</h2><p>\uBBF8\uB4E4\uC6E8\uC5B4\uC5D0\uC11C \uC9C1\uC811 \uC751\uB2F5\uC744 \uBC18\uD658\uD558\uC5EC \uCC98\uB9AC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC774 \uAE30\uB2A5\uC740 Next.js v13.1.0\uBD80\uD130 \uC0AC\uC6A9\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NextRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> isAuthenticated <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@lib/auth&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// \`/api/\`\uB85C \uC2DC\uC791\uD558\uB294 \uACBD\uB85C\uC5D0 \uB300\uD574\uC11C\uB9CC \uBBF8\uB4E4\uC6E8\uC5B4 \uC801\uC6A9</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  matcher<span class="token operator">:</span> <span class="token string">&quot;/api/:function*&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span>request<span class="token operator">:</span> NextRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \uC694\uCCAD\uC744 \uD655\uC778\uD558\uAE30 \uC704\uD574 \uC778\uC99D \uD568\uC218 \uD638\uCD9C</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isAuthenticated</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \uC778\uC99D \uC2E4\uD328\uB97C \uB098\uD0C0\uB0B4\uB294 JSON\uC73C\uB85C \uC751\uB2F5</span>
    <span class="token keyword">return</span> Response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> success<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&quot;authentication failed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">401</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="waituntil\u1100\u116A-nextfetchevent" tabindex="-1"><a class="header-anchor" href="#waituntil\u1100\u116A-nextfetchevent" aria-hidden="true">#</a> waitUntil\uACFC NextFetchEvent</h3><p>NextFetchEvent \uAC1D\uCCB4\uB294 \uB124\uC774\uD2F0\uBE0C FetchEvent \uAC1D\uCCB4\uB97C \uD655\uC7A5\uD558\uBA70, waitUntil() \uBA54\uC11C\uB4DC\uB97C \uD3EC\uD568\uD569\uB2C8\uB2E4.</p><p>waitUntil() \uBA54\uC11C\uB4DC\uB294 \uD504\uB85C\uBBF8\uC2A4\uB97C \uC778\uC218\uB85C \uC0AC\uC6A9\uD558\uBA70, \uD504\uB85C\uBBF8\uC2A4\uAC00 settle\uB420 \uB54C\uAE4C\uC9C0 \uBBF8\uB4E4\uC6E8\uC5B4\uC758 \uC218\uBA85\uC744 \uC5F0\uC7A5\uD569\uB2C8\uB2E4. \uC774\uB294 \uBC31\uADF8\uB77C\uC6B4\uB4DC\uC5D0\uC11C \uC791\uC5C5\uC744 \uC218\uD589\uD558\uB294 \uB370 \uC720\uC6A9\uD569\uB2C8\uB2E4.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextFetchEvent<span class="token punctuation">,</span> NextRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next/server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span>req<span class="token operator">:</span> NextRequest<span class="token punctuation">,</span> event<span class="token operator">:</span> NextFetchEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://my-analytics-platform.com&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      method<span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>
      body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname<span class="token operator">:</span> req<span class="token punctuation">.</span>nextUrl<span class="token punctuation">.</span>pathname <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4877378276818686" data-ad-slot="9743150776" data-ad-format="auto" data-full-width-responsive="true"></ins></p>`,8),_=t(`<h2 id="\u1100\u1169\u1100\u1173\u11B8-\u1106\u1175\u1103\u1173\u11AF\u110B\u1170\u110B\u1165-\u1111\u1173\u11AF\u1105\u1162\u1100\u1173" tabindex="-1"><a class="header-anchor" href="#\u1100\u1169\u1100\u1173\u11B8-\u1106\u1175\u1103\u1173\u11AF\u110B\u1170\u110B\u1165-\u1111\u1173\u11AF\u1105\u1162\u1100\u1173" aria-hidden="true">#</a> \uACE0\uAE09 \uBBF8\uB4E4\uC6E8\uC5B4 \uD50C\uB798\uADF8</h2><p>Next.js v13.1\uC5D0\uC11C \uBBF8\uB4E4\uC6E8\uC5B4\uC5D0 \uB300\uD55C \uB450 \uAC00\uC9C0 \uCD94\uAC00 \uD50C\uB798\uADF8\uC778 skipMiddlewareUrlNormalize \uBC0F skipTrailingSlashRedirect\uAC00 \uC18C\uAC1C\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uC774\uB7EC\uD55C \uD50C\uB798\uADF8\uB294 \uACE0\uAE09 \uC0AC\uC6A9 \uC0AC\uB840\uB97C \uB2E4\uB8E8\uAE30 \uC704\uD574 \uB3C4\uC785\uB418\uC5C8\uC2B5\uB2C8\uB2E4.</p><p>skipTrailingSlashRedirect\uB294 Next.js \uB9AC\uB2E4\uC774\uB809\uD2B8\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC2AC\uB798\uC2DC\uB97C \uCD94\uAC00\uD558\uAC70\uB098 \uC81C\uAC70\uD558\uB294 \uAC83\uC744 \uBE44\uD65C\uC131\uD654\uD569\uB2C8\uB2E4. \uC774\uB97C \uD1B5\uD574 \uBBF8\uB4E4\uC6E8\uC5B4 \uB0B4\uC5D0\uC11C \uC77C\uBD80 \uACBD\uB85C\uC5D0\uB294 \uC2AC\uB798\uC2DC\uB97C \uC720\uC9C0\uD558\uACE0 \uB2E4\uB978 \uACBD\uB85C\uC5D0\uB294 \uC720\uC9C0\uD558\uC9C0 \uC54A\uC744 \uC218 \uC788\uC73C\uBBC0\uB85C \uC810\uC9C4\uC801\uC778 \uB9C8\uC774\uADF8\uB808\uC774\uC158\uC744 \uC27D\uAC8C \uC218\uD589\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">skipTrailingSlashRedirect</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> legacyPrefixes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;/docs&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/blog&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> pathname <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>nextUrl<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>legacyPrefixes<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prefix</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \uC2AC\uB798\uC2DC \uCC98\uB9AC \uC801\uC6A9</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>pathname<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>pathname<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">((?!\\.well-known(?:\\/.*)?)(?:[^/]+\\/)*[^/]+\\.\\w+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    req<span class="token punctuation">.</span>nextUrl<span class="token punctuation">.</span>pathname <span class="token operator">+=</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>nextUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>skipMiddlewareUrlNormalize\uC740 Next.js\uC5D0\uC11C URL \uC815\uADDC\uD654\uB97C \uBE44\uD65C\uC131\uD654\uD558\uC5EC \uC9C1\uC811 \uBC29\uBB38\uACFC \uD074\uB77C\uC774\uC5B8\uD2B8 \uC804\uD658\uC744 \uB3D9\uC77C\uD558\uAC8C \uCC98\uB9AC\uD560 \uC218 \uC788\uB3C4\uB85D\uD569\uB2C8\uB2E4. \uC77C\uBD80 \uACE0\uAE09 \uCF00\uC774\uC2A4\uC5D0\uC11C\uC774 \uC635\uC158\uC744 \uC0AC\uC6A9\uD558\uBA74 \uC6D0\uB798 URL\uC744 \uC0AC\uC6A9\uD558\uC5EC \uC644\uC804\uD55C \uC81C\uC5B4\uB97C \uC81C\uACF5\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">skipMiddlewareUrlNormalize</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> pathname <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>nextUrl<span class="token punctuation">;</span>

  <span class="token comment">// GET /_next/data/build-id/hello.json</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \uC774 \uD50C\uB798\uADF8\uB97C \uC0AC\uC6A9\uD558\uBA74 \uC774\uC81C /_next/data/build-id/hello.json\uC785\uB2C8\uB2E4.</span>
  <span class="token comment">// \uC774 \uD50C\uB798\uADF8\uB97C \uC0AC\uC6A9\uD558\uC9C0 \uC54A\uC73C\uBA74 \uC774\uB294 /hello\uB85C \uC815\uADDC\uD654\uB429\uB2C8\uB2E4.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC774\uB807\uAC8C \uD568\uC73C\uB85C\uC368, Next.js\uC758 \uBBF8\uB4E4\uC6E8\uC5B4\uB97C \uC0AC\uC6A9\uD558\uC5EC \uACE0\uAE09 \uC0AC\uC6A9 \uC0AC\uB840\uC5D0 \uB300\uD55C \uCC98\uB9AC\uB97C \uB354\uC6B1 \uC720\uC5F0\uD558\uAC8C \uC870\uC815\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.</p><h2 id="\u1105\u1165\u11AB\u1110\u1161\u110B\u1175\u11B7" tabindex="-1"><a class="header-anchor" href="#\u1105\u1165\u11AB\u1110\u1161\u110B\u1175\u11B7" aria-hidden="true">#</a> \uB7F0\uD0C0\uC784</h2><p>\uD604\uC7AC Middleware\uB294 Edge \uB7F0\uD0C0\uC784\uB9CC \uC9C0\uC6D0\uD569\uB2C8\uB2E4. Node.js \uB7F0\uD0C0\uC784\uC740 \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.</p>`,11),N=n("thead",null,[n("tr",null,[n("th",null,"Version"),n("th",null,"Changes")])],-1),R=n("tr",null,[n("td",null,[n("code",null,"v13.1.0")]),n("td",null,"Advanced Middleware flags added")],-1),j=n("tr",null,[n("td",null,[n("code",null,"v13.0.0")]),n("td",null,"Middleware can modify request headers, response headers, and send responses")],-1),A=n("tr",null,[n("td",null,[n("code",null,"v12.2.0")]),n("td",null,[s("Middleware is stable, please see the "),n("a",{href:"/docs/messages/middleware-upgrade-guide"},"upgrade guide")])],-1),U=n("td",null,[n("code",null,"v12.0.9")],-1),O={href:"https://github.com/vercel/next.js/pull/33410",target:"_blank",rel:"noopener noreferrer"},P=n("tr",null,[n("td",null,[n("code",null,"v12.0.0")]),n("td",null,"Middleware (Beta) added")],-1);function C(E,S){const c=i("ExternalLinkIcon");return a(),u("div",null,[k,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),v,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),m,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),b,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),g,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),h,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),y,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),f,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),w,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),q,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),x,(a(),e(o("script"),null,{default:p(()=>[s(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1})),_,n("table",null,[N,n("tbody",null,[R,j,A,n("tr",null,[U,n("td",null,[s("Enforce absolute URLs in Edge Runtime ("),n("a",O,[s("PR"),r(c)]),s(")")])]),P])])])}var L=l(d,[["render",C],["__file","index.html.vue"]]);export{L as default};
