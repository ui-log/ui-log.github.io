---
title: "제가 할 수 있는 것들 중에서 제일 좋아하는 것 중 하나는 바로 Next.js 13에서 아무 곳에서나 열 수 있는 모달을 만드는 것이에요. 오늘은 그 방법에 대해 이야기해볼게요!"
description: ""
date: 2024-04-05 14:20
sidebarDepth: 0
tag: Tech
thumbnail: 
originalTitle: "Create a modal that can be opened from anywhere in Next.js 13"
link: "https://medium.com/@a.pirus/create-a-modal-that-can-be-opened-from-anywhere-in-next-js-13-36f6d0ce1bcf"
---


다음과 같이 친절하게 번역해보겠습니다.

---
당신의 Next.js 애플리케이션에 맞게 설정 가능한 모달 컴포넌트를 어떻게 효율적으로 통합할 수 있는지 알아보세요.

![Next.js 13.0에서 어디에서든 열 수 있는 모달 만들기](./img/CreateamodalthatcanbeopenedfromanywhereinNextjs13_0.png)

# 1. 새로운 Next.js 애플리케이션 만들기.

먼저 'page.tsx'와 'globals.css'를 정리하는 것으로 시작하세요.
---

<!-- ui-log 수평형 -->
<ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>

# 2. 모달 컴포넌트 만들기

'앱' 폴더에 'components' 폴더를 생성하고 'Modal.tsx' 파일을 추가하세요.

```js
function Modal() {
    return (
        <>
            <dialog
                className="fixed left-0 top-0 w-full h-full bg-black bg-opacity-50 z-50 overflow-auto backdrop-blur flex justify-center items-center">
                <div className="bg-white m-auto p-8">
                    <div className="flex flex-col items-center">
                        <h3>모달 내용</h3>
                        <br/>
                        <button type="button" className="bg-red-500 text-white p-2 ">모달 닫기</button>
                    </div>

                </div>
            </dialog>
        </>
    );
}

export default Modal;
```

이것은 간단한 모달 컴포넌트입니다. '모달 닫기' 버튼을 추가했지만 아직 기능이 작동하지는 않습니다.

<!-- ui-log 수평형 -->
<ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>

# 3. 레이아웃에 모달 구현하기

'Modal' 컴포넌트를 'layout.tsx'에 통합하여 애플리케이션 전반에서 모달의 모습을 시각화하세요.

```js
import './globals.css'
import type {Metadata} from 'next'
import {Inter} from 'next/font/google'
import Modal from "./components/Modal";

const inter = Inter({subsets: ['latin']})

export const metadata: Metadata = {
    title: 'Create Next App',
    description: 'Generated by create next app',
}

export default function RootLayout({
                                       children,
                                   }: {
    children: React.ReactNode
}) {
    return (
        <html lang="en">
        <body className={inter.className}>
        {children}
        <Modal/>
        </body>
        </html>
    )
}
```

# 4. 이제 자습서를 클릭한 이유인 부분에 대해 알아보겠습니다: 모달을 열고 닫는 논리를 구현하는 방법입니다.

<!-- ui-log 수평형 -->
<ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>

modal.

모달을 열어야 한다는 것을 나타내는 쿼리 매개변수를 만드는 것을 제안합니다.

모달 기능 구성 요소 내에서는 'useSearchParams()' 훅을 사용하여 우리의 경로에 쿼리가 있는지 확인한 후, 해당하는 경우에만 모달을 표시하는 조건을 만듭니다. 훅을 사용할 수 있도록 페이지 상단에 "useClient"를 추가하는 것을 잊지 마세요.

모달을 닫으려면 URL에서 'modal' 쿼리 매개변수를 삭제해야 합니다. 'usePathname' 훅을 사용하여 이를 수행해봅시다.

<!-- ui-log 수평형 -->
<ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>

```js
"use client";
import {useSearchParams, usePathname} from "next/navigation";
import Link from "next/link";

function Modal() {
    const searchParams = useSearchParams();
    const modal = searchParams.get("modal");
    const pathname = usePathname();

    return (
        <>
            {modal &&
                <dialog
                    className="fixed left-0 top-0 w-full h-full bg-black bg-opacity-50 z-50 overflow-auto backdrop-blur flex justify-center items-center">
                    <div className="bg-white m-auto p-8">
                        <div className="flex flex-col items-center">
                            <p>모달 콘텐츠</p>
                            <br/>
                            <Link href={pathname}>
                                <button type="button" className="bg-red-500 text-white p-2">모달 닫기</button>
                            </Link>
                        </div>
                    </div>
                </dialog>
            }
        </>
    );
}

export default Modal;
```

# 5. 모달 열기

모달을 열려면 쿼리 파라미터에 modal=true을 추가하세요. 트리거 역할을 하는 요소 (버튼 또는 다른 구성 요소)를 감싸는 href="?modal=true"을 사용한 Link 구성 요소를 사용하세요.

```js
import Link from "next/link";

export default function Home() {
    return (
        <>
            <div className="p-4">
                <p>홈페이지</p>
                <Link href="?modal=true">
                    <button type="button" className="bg-blue-500 text-white p-2">모달 열기</button>
                </Link>
            </div>
        </>
    )
}
```

<!-- ui-log 수평형 -->
<ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>

이제 이 쿼리 매개변수를 웹사이트의 어떤 페이지나 구성 요소에 추가할 수 있어요! 특정 페이지에서만 작동하도록하려면 전역 'layout.tsx' 대신 원하는 페이지에 '’를 추가하세요.

P.S. "전체 페이지 / 클라이언트 측 렌더링으로 전환" 경고를 받으면 간단한 해결책이 있어요: `Modal /` 구성 요소를 Suspense 경계로 감싸세요.

```js
import {Suspense} from "react";

...
<Suspense fallback={<>로딩 중...</>}>
    <Modal/>
</Suspense>
...
```

<img src="https://miro.medium.com/v2/resize:fit:1400/1*tSHdv1oj5LslFNJfoe2ohg.gif" />

<!-- ui-log 수평형 -->
<ins class="adsbygoogle"
  style="display:block"
  data-ad-client="ca-pub-4877378276818686"
  data-ad-slot="9743150776"
  data-ad-format="auto"
  data-full-width-responsive="true"></ins>
<component is="script">
(adsbygoogle = window.adsbygoogle || []).push({});
</component>

제 튜토리얼을 참고해 주셔서 감사합니다. 정말 도움이 되었기를 진심으로 바라요!

이 프로젝트의 소스 코드는 GitHub에서 찾을 수 있어요.

LinkedIn이나 GitHub에서도 연락 주시면 감사하겠어요! 제 웹사이트도 방문해 주세요. 여기서 더 많은 튜토리얼을 공유할 거에요.